<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Walkthrough 4: Longitudinal analysis with federal students with disabilities data | Data Science in Education Using R</title>
  <meta name="description" content="Bookdown for ‘Data Science in Education Using R’ by Ryan A. Estrellado, Emily A. Freer, Joshua M. Rosenberg, and Isabella C. Velásquez to be published by Routledge in 2024" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Walkthrough 4: Longitudinal analysis with federal students with disabilities data | Data Science in Education Using R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Bookdown for ‘Data Science in Education Using R’ by Ryan A. Estrellado, Emily A. Freer, Joshua M. Rosenberg, and Isabella C. Velásquez to be published by Routledge in 2024" />
  <meta name="github-repo" content="data-edu/data-science-in-education" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Walkthrough 4: Longitudinal analysis with federal students with disabilities data | Data Science in Education Using R" />
  
  <meta name="twitter:description" content="Bookdown for ‘Data Science in Education Using R’ by Ryan A. Estrellado, Emily A. Freer, Joshua M. Rosenberg, and Isabella C. Velásquez to be published by Routledge in 2024" />
  

<meta name="author" content="Ryan A. Estrellado, Emily A. Freer, Joshua M. Rosenberg, and Isabella C. Velásquez" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="c09.html"/>
<link rel="next" href="c11.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156454511-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156454511-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science in Education Using R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prologue"><i class="fa fa-check"></i>Prologue</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#dedications"><i class="fa fa-check"></i>Dedications</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#citation"><i class="fa fa-check"></i>Citation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#purchasing-the-book"><i class="fa fa-check"></i>Purchasing the book</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="c01.html"><a href="c01.html"><i class="fa fa-check"></i><b>1</b> Introduction: Data science in education – you’re invited to the party!</a>
<ul>
<li class="chapter" data-level="1.1" data-path="c01.html"><a href="c01.html#learning-data-science-in-education"><i class="fa fa-check"></i><b>1.1</b> Learning data science in education</a></li>
<li class="chapter" data-level="1.2" data-path="c01.html"><a href="c01.html#making-the-path-a-little-clearer"><i class="fa fa-check"></i><b>1.2</b> Making the path a little clearer</a></li>
<li class="chapter" data-level="1.3" data-path="c01.html"><a href="c01.html#conventions-used-in-the-book"><i class="fa fa-check"></i><b>1.3</b> Conventions used in the book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="c02.html"><a href="c02.html"><i class="fa fa-check"></i><b>2</b> How to use this book</a>
<ul>
<li class="chapter" data-level="2.1" data-path="c02.html"><a href="c02.html#different-strokes-for-different-data-scientists-in-education"><i class="fa fa-check"></i><b>2.1</b> Different strokes for different data scientists in education</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="c02.html"><a href="c02.html#read-the-book-cover-to-cover-and-how-to-keep-going"><i class="fa fa-check"></i><b>2.1.1</b> Read the book cover to cover (and how to keep going)</a></li>
<li class="chapter" data-level="2.1.2" data-path="c02.html"><a href="c02.html#pick-a-chapter-of-interest-and-start-there"><i class="fa fa-check"></i><b>2.1.2</b> Pick a chapter of interest and start there</a></li>
<li class="chapter" data-level="2.1.3" data-path="c02.html"><a href="c02.html#read-through-the-walkthroughs-and-run-the-code"><i class="fa fa-check"></i><b>2.1.3</b> Read through the walkthroughs and run the code</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="c02.html"><a href="c02.html#a-note-on-statistics"><i class="fa fa-check"></i><b>2.2</b> A note on statistics</a></li>
<li class="chapter" data-level="2.3" data-path="c02.html"><a href="c02.html#what-this-book-is-not-about"><i class="fa fa-check"></i><b>2.3</b> What this book is not about</a></li>
<li class="chapter" data-level="2.4" data-path="c02.html"><a href="c02.html#supporting-the-book"><i class="fa fa-check"></i><b>2.4</b> Supporting the book</a></li>
<li class="chapter" data-level="2.5" data-path="c02.html"><a href="c02.html#contributing-to-the-book"><i class="fa fa-check"></i><b>2.5</b> Contributing to the book</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="c03.html"><a href="c03.html"><i class="fa fa-check"></i><b>3</b> What does data science in education look like?</a>
<ul>
<li class="chapter" data-level="3.1" data-path="c03.html"><a href="c03.html#data-roles-in-education"><i class="fa fa-check"></i><b>3.1</b> Data roles in education</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="c03.html"><a href="c03.html#building-systems-that-get-data-to-the-right-people"><i class="fa fa-check"></i><b>3.1.1</b> Building systems that get data to the right people</a></li>
<li class="chapter" data-level="3.1.2" data-path="c03.html"><a href="c03.html#measuring-the-impact-of-our-work-on-the-student-experience"><i class="fa fa-check"></i><b>3.1.2</b> Measuring the impact of our work on the student experience</a></li>
<li class="chapter" data-level="3.1.3" data-path="c03.html"><a href="c03.html#looking-for-patterns-in-student-data"><i class="fa fa-check"></i><b>3.1.3</b> Looking for patterns in student data</a></li>
<li class="chapter" data-level="3.1.4" data-path="c03.html"><a href="c03.html#improving-how-we-use-statistical-models-in-education"><i class="fa fa-check"></i><b>3.1.4</b> Improving how we use statistical models in education</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="c03.html"><a href="c03.html#defining-the-process-of-data-science"><i class="fa fa-check"></i><b>3.2</b> Defining the process of data science</a></li>
<li class="chapter" data-level="3.3" data-path="c03.html"><a href="c03.html#common-activities-of-data-scientists"><i class="fa fa-check"></i><b>3.3</b> Common activities of data scientists</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="c03.html"><a href="c03.html#processing-preparing-and-tidying-data"><i class="fa fa-check"></i><b>3.3.1</b> Processing (preparing and tidying) data</a></li>
<li class="chapter" data-level="3.3.2" data-path="c03.html"><a href="c03.html#doing-analysis-exploring-visualizing-and-modeling-data"><i class="fa fa-check"></i><b>3.3.2</b> Doing analysis (exploring, visualizing, and modeling data)</a></li>
<li class="chapter" data-level="3.3.3" data-path="c03.html"><a href="c03.html#sharing-results"><i class="fa fa-check"></i><b>3.3.3</b> Sharing results</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="c03.html"><a href="c03.html#who-we-are-and-what-we-do"><i class="fa fa-check"></i><b>3.4</b> Who we are and what we do</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="c03.html"><a href="c03.html#leading-office-culture-toward-a-data-driven-approach"><i class="fa fa-check"></i><b>3.4.1</b> Leading office culture toward a data-driven approach</a></li>
<li class="chapter" data-level="3.4.2" data-path="c03.html"><a href="c03.html#helping-school-districts-plan-to-meet-their-goals"><i class="fa fa-check"></i><b>3.4.2</b> Helping school districts plan to meet their goals</a></li>
<li class="chapter" data-level="3.4.3" data-path="c03.html"><a href="c03.html#doing-and-empowering-research-on-data-scientists-in-education"><i class="fa fa-check"></i><b>3.4.3</b> Doing and empowering research on data scientists in education</a></li>
<li class="chapter" data-level="3.4.4" data-path="c03.html"><a href="c03.html#supporting-student-success-with-data"><i class="fa fa-check"></i><b>3.4.4</b> Supporting student success with data</a></li>
<li class="chapter" data-level="3.4.5" data-path="c03.html"><a href="c03.html#placing-schools-and-districts-in-context"><i class="fa fa-check"></i><b>3.4.5</b> Placing schools and districts in context</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="c03.html"><a href="c03.html#next-steps-for-data-science-in-education"><i class="fa fa-check"></i><b>3.5</b> Next steps for data science in education</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="c04.html"><a href="c04.html"><i class="fa fa-check"></i><b>4</b> Special considerations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="c04.html"><a href="c04.html#things-to-consider-when-doing-data-science-in-any-domain"><i class="fa fa-check"></i><b>4.1</b> Things to consider when doing data science in any domain</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="c04.html"><a href="c04.html#learning-to-code"><i class="fa fa-check"></i><b>4.1.1</b> Learning to code</a></li>
<li class="chapter" data-level="4.1.2" data-path="c04.html"><a href="c04.html#addressing-ambiguity-a-reproducible-approach"><i class="fa fa-check"></i><b>4.1.2</b> Addressing ambiguity: a reproducible approach</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="c04.html"><a href="c04.html#things-to-consider-when-doing-data-science-in-education"><i class="fa fa-check"></i><b>4.2</b> Things to consider when doing data science in education</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="c04.html"><a href="c04.html#addressing-organizational-resistance-a-self-driven-analytic-approach"><i class="fa fa-check"></i><b>4.2.1</b> Addressing organizational resistance: a self-driven analytic approach</a></li>
<li class="chapter" data-level="4.2.2" data-path="c04.html"><a href="c04.html#lack-of-processes-and-guidelines"><i class="fa fa-check"></i><b>4.2.2</b> Lack of processes and guidelines</a></li>
<li class="chapter" data-level="4.2.3" data-path="c04.html"><a href="c04.html#limited-training-and-educational-opportunities"><i class="fa fa-check"></i><b>4.2.3</b> Limited training and educational opportunities</a></li>
<li class="chapter" data-level="4.2.4" data-path="c04.html"><a href="c04.html#advancing-equity"><i class="fa fa-check"></i><b>4.2.4</b> Advancing equity</a></li>
<li class="chapter" data-level="4.2.5" data-path="c04.html"><a href="c04.html#the-complex-nature-of-education-data"><i class="fa fa-check"></i><b>4.2.5</b> The complex nature of education data</a></li>
<li class="chapter" data-level="4.2.6" data-path="c04.html"><a href="c04.html#ethical-and-legal-concerns"><i class="fa fa-check"></i><b>4.2.6</b> Ethical and legal concerns</a></li>
<li class="chapter" data-level="4.2.7" data-path="c04.html"><a href="c04.html#analytic-considerations"><i class="fa fa-check"></i><b>4.2.7</b> Analytic considerations</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="c04.html"><a href="c04.html#conclusion"><i class="fa fa-check"></i><b>4.3</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="c05.html"><a href="c05.html"><i class="fa fa-check"></i><b>5</b> Getting started with R and RStudio</a>
<ul>
<li class="chapter" data-level="5.1" data-path="c05.html"><a href="c05.html#topics-emphasized"><i class="fa fa-check"></i><b>5.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="5.2" data-path="c05.html"><a href="c05.html#functions-introduced"><i class="fa fa-check"></i><b>5.2</b> Functions introduced</a></li>
<li class="chapter" data-level="5.3" data-path="c05.html"><a href="c05.html#chapter-overview"><i class="fa fa-check"></i><b>5.3</b> Chapter overview</a></li>
<li class="chapter" data-level="5.4" data-path="c05.html"><a href="c05.html#downloading-r-and-rstudio"><i class="fa fa-check"></i><b>5.4</b> Downloading R and RStudio</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="c05.html"><a href="c05.html#to-download-r"><i class="fa fa-check"></i><b>5.4.1</b> To download R:</a></li>
<li class="chapter" data-level="5.4.2" data-path="c05.html"><a href="c05.html#to-download-rstudio"><i class="fa fa-check"></i><b>5.4.2</b> To download RStudio:</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="c05.html"><a href="c05.html#rstudio-layout-and-customization-getting-to-know-r-through-rstudio"><i class="fa fa-check"></i><b>5.5</b> RStudio layout and customization: getting to know R through RStudio</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="c05.html"><a href="c05.html#rstudio-layout"><i class="fa fa-check"></i><b>5.5.1</b> RStudio layout</a></li>
<li class="chapter" data-level="5.5.2" data-path="c05.html"><a href="c05.html#customizing-rstudio"><i class="fa fa-check"></i><b>5.5.2</b> Customizing RStudio</a></li>
<li class="chapter" data-level="5.5.3" data-path="c05.html"><a href="c05.html#minimized-and-missing-panes"><i class="fa fa-check"></i><b>5.5.3</b> Minimized and missing panes</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="c05.html"><a href="c05.html#writing-and-running-code-in-rstudio"><i class="fa fa-check"></i><b>5.6</b> Writing and running code in RStudio</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="c05.html"><a href="c05.html#writing-code-in-the-console"><i class="fa fa-check"></i><b>5.6.1</b> Writing code in the console</a></li>
<li class="chapter" data-level="5.6.2" data-path="c05.html"><a href="c05.html#writing-code-in-an-r-script"><i class="fa fa-check"></i><b>5.6.2</b> Writing code in an R script</a></li>
<li class="chapter" data-level="5.6.3" data-path="c05.html"><a href="c05.html#commenting-your-code-in-r"><i class="fa fa-check"></i><b>5.6.3</b> Commenting your code in R</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="c05.html"><a href="c05.html#installing-the-dataedu-package"><i class="fa fa-check"></i><b>5.7</b> Installing the {dataedu} package</a></li>
<li class="chapter" data-level="5.8" data-path="c05.html"><a href="c05.html#exploring-r-with-the-swirl-package"><i class="fa fa-check"></i><b>5.8</b> Exploring R with the {swirl} package</a></li>
<li class="chapter" data-level="5.9" data-path="c05.html"><a href="c05.html#conclusion-1"><i class="fa fa-check"></i><b>5.9</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="c06.html"><a href="c06.html"><i class="fa fa-check"></i><b>6</b> Foundational skills</a>
<ul>
<li class="chapter" data-level="6.1" data-path="c06.html"><a href="c06.html#topics-emphasized-1"><i class="fa fa-check"></i><b>6.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="6.2" data-path="c06.html"><a href="c06.html#functions-introduced-1"><i class="fa fa-check"></i><b>6.2</b> Functions introduced</a></li>
<li class="chapter" data-level="6.3" data-path="c06.html"><a href="c06.html#functions-introduced-in-the-appendix"><i class="fa fa-check"></i><b>6.3</b> Functions introduced in the appendix</a></li>
<li class="chapter" data-level="6.4" data-path="c06.html"><a href="c06.html#chapter-overview-1"><i class="fa fa-check"></i><b>6.4</b> Chapter overview</a></li>
<li class="chapter" data-level="6.5" data-path="c06.html"><a href="c06.html#foundational-skills-framework"><i class="fa fa-check"></i><b>6.5</b> Foundational skills framework</a></li>
<li class="chapter" data-level="6.6" data-path="c06.html"><a href="c06.html#projects"><i class="fa fa-check"></i><b>6.6</b> Projects</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="c06.html"><a href="c06.html#setting-up-your-project"><i class="fa fa-check"></i><b>6.6.1</b> Setting up your project</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="c06.html"><a href="c06.html#functions"><i class="fa fa-check"></i><b>6.7</b> Functions</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="c06.html"><a href="c06.html#writing-your-own-functions"><i class="fa fa-check"></i><b>6.7.1</b> Writing Your Own Functions</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="c06.html"><a href="c06.html#c06p"><i class="fa fa-check"></i><b>6.8</b> Packages</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="c06.html"><a href="c06.html#installing-and-loading-a-package"><i class="fa fa-check"></i><b>6.8.1</b> Installing and Loading a Package</a></li>
<li class="chapter" data-level="6.8.2" data-path="c06.html"><a href="c06.html#how-to-find-packages"><i class="fa fa-check"></i><b>6.8.2</b> How to find packages</a></li>
<li class="chapter" data-level="6.8.3" data-path="c06.html"><a href="c06.html#learning-more-about-a-package"><i class="fa fa-check"></i><b>6.8.3</b> Learning more about a package</a></li>
<li class="chapter" data-level="6.8.4" data-path="c06.html"><a href="c06.html#installing-the-dataedu-package-1"><i class="fa fa-check"></i><b>6.8.4</b> Installing the {dataedu} package</a></li>
<li class="chapter" data-level="6.8.5" data-path="c06.html"><a href="c06.html#loading-the-dataedu-package"><i class="fa fa-check"></i><b>6.8.5</b> Loading the {dataedu} package</a></li>
<li class="chapter" data-level="6.8.6" data-path="c06.html"><a href="c06.html#using-the-dataedu-package"><i class="fa fa-check"></i><b>6.8.6</b> Using the {dataedu} package</a></li>
<li class="chapter" data-level="6.8.7" data-path="c06.html"><a href="c06.html#the-relationship-between-packages-and-functions"><i class="fa fa-check"></i><b>6.8.7</b> The relationship between packages and functions</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="c06.html"><a href="c06.html#data"><i class="fa fa-check"></i><b>6.9</b> Data</a></li>
<li class="chapter" data-level="6.10" data-path="c06.html"><a href="c06.html#help-documentation"><i class="fa fa-check"></i><b>6.10</b> Help documentation</a></li>
<li class="chapter" data-level="6.11" data-path="c06.html"><a href="c06.html#steps-for-working-through-new-and-unfamiliar-content"><i class="fa fa-check"></i><b>6.11</b> Steps for working through new and unfamiliar content</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="c06.html"><a href="c06.html#activate-prior-knowledge"><i class="fa fa-check"></i><b>6.11.1</b> Activate prior knowledge</a></li>
<li class="chapter" data-level="6.11.2" data-path="c06.html"><a href="c06.html#look-for-context-clues"><i class="fa fa-check"></i><b>6.11.2</b> Look for context clues</a></li>
<li class="chapter" data-level="6.11.3" data-path="c06.html"><a href="c06.html#check-the-help-documentation"><i class="fa fa-check"></i><b>6.11.3</b> Check the help documentation</a></li>
<li class="chapter" data-level="6.11.4" data-path="c06.html"><a href="c06.html#find-the-limits"><i class="fa fa-check"></i><b>6.11.4</b> Find the limits</a></li>
<li class="chapter" data-level="6.11.5" data-path="c06.html"><a href="c06.html#test-and-refine-your-understanding"><i class="fa fa-check"></i><b>6.11.5</b> Test (and refine) your understanding</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="c06.html"><a href="c06.html#bringing-it-all-together-getting-started-coding-walkthrough"><i class="fa fa-check"></i><b>6.12</b> Bringing it all together: getting started coding walkthrough</a>
<ul>
<li class="chapter" data-level="6.12.1" data-path="c06.html"><a href="c06.html#creating-a-project-and-an-.r-script-and-setting-up-our-rstudio-environment"><i class="fa fa-check"></i><b>6.12.1</b> Creating a project and an <code>.R</code> script and setting up our RStudio environment</a></li>
<li class="chapter" data-level="6.12.2" data-path="c06.html"><a href="c06.html#loading-data-from-dataedu-into-our-r-environment"><i class="fa fa-check"></i><b>6.12.2</b> Loading data from {dataedu} into our R Environment</a></li>
<li class="chapter" data-level="6.12.3" data-path="c06.html"><a href="c06.html#exploring-our-data-and-common-errors"><i class="fa fa-check"></i><b>6.12.3</b> Exploring our data and common errors</a></li>
<li class="chapter" data-level="6.12.4" data-path="c06.html"><a href="c06.html#exploring-our-data-with-the-pipe-operator"><i class="fa fa-check"></i><b>6.12.4</b> Exploring our data with the pipe operator</a></li>
<li class="chapter" data-level="6.12.5" data-path="c06.html"><a href="c06.html#exploring-assignment-vs.-equality"><i class="fa fa-check"></i><b>6.12.5</b> Exploring assignment vs. equality</a></li>
<li class="chapter" data-level="6.12.6" data-path="c06.html"><a href="c06.html#basics-of-object-and-variable-names"><i class="fa fa-check"></i><b>6.12.6</b> Basics of object and variable names</a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="c06.html"><a href="c06.html#conclusion-2"><i class="fa fa-check"></i><b>6.13</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="c07.html"><a href="c07.html"><i class="fa fa-check"></i><b>7</b> Walkthrough 1: The education data science pipeline with online science class data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="c07.html"><a href="c07.html#topics-emphasized-2"><i class="fa fa-check"></i><b>7.1</b> Topics Emphasized</a></li>
<li class="chapter" data-level="7.2" data-path="c07.html"><a href="c07.html#functions-introduced-2"><i class="fa fa-check"></i><b>7.2</b> Functions Introduced</a></li>
<li class="chapter" data-level="7.3" data-path="c07.html"><a href="c07.html#vocabulary"><i class="fa fa-check"></i><b>7.3</b> Vocabulary</a></li>
<li class="chapter" data-level="7.4" data-path="c07.html"><a href="c07.html#introduction-to-the-walkthroughs"><i class="fa fa-check"></i><b>7.4</b> Introduction to the Walkthroughs</a></li>
<li class="chapter" data-level="7.5" data-path="c07.html"><a href="c07.html#chapter-overview-2"><i class="fa fa-check"></i><b>7.5</b> Chapter Overview</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="c07.html"><a href="c07.html#background"><i class="fa fa-check"></i><b>7.5.1</b> Background</a></li>
<li class="chapter" data-level="7.5.2" data-path="c07.html"><a href="c07.html#data-sources"><i class="fa fa-check"></i><b>7.5.2</b> Data Sources</a></li>
<li class="chapter" data-level="7.5.3" data-path="c07.html"><a href="c07.html#data-source-2-log-trace-data"><i class="fa fa-check"></i><b>7.5.3</b> Data Source #2: Log-Trace Data</a></li>
<li class="chapter" data-level="7.5.4" data-path="c07.html"><a href="c07.html#data-source-3-academic-achievement-and-gradebook-data"><i class="fa fa-check"></i><b>7.5.4</b> Data Source #3: Academic Achievement and Gradebook Data</a></li>
<li class="chapter" data-level="7.5.5" data-path="c07.html"><a href="c07.html#data-source-4-discussion-board-data"><i class="fa fa-check"></i><b>7.5.5</b> Data Source #4: Discussion Board Data</a></li>
<li class="chapter" data-level="7.5.6" data-path="c07.html"><a href="c07.html#methods"><i class="fa fa-check"></i><b>7.5.6</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="c07.html"><a href="c07.html#load-packages"><i class="fa fa-check"></i><b>7.6</b> Load Packages</a></li>
<li class="chapter" data-level="7.7" data-path="c07.html"><a href="c07.html#import-data"><i class="fa fa-check"></i><b>7.7</b> Import Data</a></li>
<li class="chapter" data-level="7.8" data-path="c07.html"><a href="c07.html#view-data"><i class="fa fa-check"></i><b>7.8</b> View Data</a></li>
<li class="chapter" data-level="7.9" data-path="c07.html"><a href="c07.html#process-data"><i class="fa fa-check"></i><b>7.9</b> Process Data</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="c07.html"><a href="c07.html#processing-the-course-data"><i class="fa fa-check"></i><b>7.9.1</b> Processing the Course Data</a></li>
<li class="chapter" data-level="7.9.2" data-path="c07.html"><a href="c07.html#joining-the-data"><i class="fa fa-check"></i><b>7.9.2</b> Joining the Data</a></li>
<li class="chapter" data-level="7.9.3" data-path="c07.html"><a href="c07.html#finding-distinct-cases-at-the-student-level"><i class="fa fa-check"></i><b>7.9.3</b> Finding Distinct Cases at the Student-Level</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="c07.html"><a href="c07.html#analysis"><i class="fa fa-check"></i><b>7.10</b> Analysis</a>
<ul>
<li class="chapter" data-level="7.10.1" data-path="c07.html"><a href="c07.html#about-ggplot2"><i class="fa fa-check"></i><b>7.10.1</b> About {ggplot2}</a></li>
<li class="chapter" data-level="7.10.2" data-path="c07.html"><a href="c07.html#the-relationship-between-time-spent-on-course-and-final-grade"><i class="fa fa-check"></i><b>7.10.2</b> The Relationship between Time Spent on Course and Final Grade</a></li>
<li class="chapter" data-level="7.10.3" data-path="c07.html"><a href="c07.html#linear-model-regression"><i class="fa fa-check"></i><b>7.10.3</b> Linear Model (Regression)</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="c07.html"><a href="c07.html#results"><i class="fa fa-check"></i><b>7.11</b> Results</a></li>
<li class="chapter" data-level="7.12" data-path="c07.html"><a href="c07.html#conclusion-3"><i class="fa fa-check"></i><b>7.12</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="c08.html"><a href="c08.html"><i class="fa fa-check"></i><b>8</b> Walkthrough 2: Approaching gradebook data from a data science perspective</a>
<ul>
<li class="chapter" data-level="8.1" data-path="c08.html"><a href="c08.html#topics-emphasized-3"><i class="fa fa-check"></i><b>8.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="8.2" data-path="c08.html"><a href="c08.html#functions-introduced-3"><i class="fa fa-check"></i><b>8.2</b> Functions introduced</a></li>
<li class="chapter" data-level="8.3" data-path="c08.html"><a href="c08.html#vocabulary-1"><i class="fa fa-check"></i><b>8.3</b> Vocabulary</a></li>
<li class="chapter" data-level="8.4" data-path="c08.html"><a href="c08.html#chapter-overview-3"><i class="fa fa-check"></i><b>8.4</b> Chapter overview</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="c08.html"><a href="c08.html#background-1"><i class="fa fa-check"></i><b>8.4.1</b> Background</a></li>
<li class="chapter" data-level="8.4.2" data-path="c08.html"><a href="c08.html#data-sources-1"><i class="fa fa-check"></i><b>8.4.2</b> Data sources</a></li>
<li class="chapter" data-level="8.4.3" data-path="c08.html"><a href="c08.html#methods-1"><i class="fa fa-check"></i><b>8.4.3</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="c08.html"><a href="c08.html#load-packages-1"><i class="fa fa-check"></i><b>8.5</b> Load packages</a></li>
<li class="chapter" data-level="8.6" data-path="c08.html"><a href="c08.html#import-data-1"><i class="fa fa-check"></i><b>8.6</b> Import data</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="c08.html"><a href="c08.html#import-using-a-file-path"><i class="fa fa-check"></i><b>8.6.1</b> Import using a file path</a></li>
<li class="chapter" data-level="8.6.2" data-path="c08.html"><a href="c08.html#import-using-here"><i class="fa fa-check"></i><b>8.6.2</b> Import using <code>here()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="c08.html"><a href="c08.html#process-data-1"><i class="fa fa-check"></i><b>8.7</b> Process data</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="c08.html"><a href="c08.html#tidy-data"><i class="fa fa-check"></i><b>8.7.1</b> Tidy data</a></li>
<li class="chapter" data-level="8.7.2" data-path="c08.html"><a href="c08.html#about-janitor"><i class="fa fa-check"></i><b>8.7.2</b> About {janitor}</a></li>
<li class="chapter" data-level="8.7.3" data-path="c08.html"><a href="c08.html#create-new-variables-and-further-process-the-data"><i class="fa fa-check"></i><b>8.7.3</b> Create new variables and further process the data</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="c08.html"><a href="c08.html#analysis-1"><i class="fa fa-check"></i><b>8.8</b> Analysis</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="c08.html"><a href="c08.html#visualize-data"><i class="fa fa-check"></i><b>8.8.1</b> Visualize data</a></li>
<li class="chapter" data-level="8.8.2" data-path="c08.html"><a href="c08.html#model-data"><i class="fa fa-check"></i><b>8.8.2</b> Model data</a></li>
<li class="chapter" data-level="8.8.3" data-path="c08.html"><a href="c08.html#correlation-analysis"><i class="fa fa-check"></i><b>8.8.3</b> Correlation analysis</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="c08.html"><a href="c08.html#results-1"><i class="fa fa-check"></i><b>8.9</b> Results</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="c08.html"><a href="c08.html#more-on-interpreting-models"><i class="fa fa-check"></i><b>8.9.1</b> More on interpreting models</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="c08.html"><a href="c08.html#conclusion-4"><i class="fa fa-check"></i><b>8.10</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="c09.html"><a href="c09.html"><i class="fa fa-check"></i><b>9</b> Walkthrough 3: Using school-level aggregate data to illuminate educational inequities</a>
<ul>
<li class="chapter" data-level="9.1" data-path="c09.html"><a href="c09.html#topics-emphasized-4"><i class="fa fa-check"></i><b>9.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="9.2" data-path="c09.html"><a href="c09.html#functions-introduced-4"><i class="fa fa-check"></i><b>9.2</b> Functions introduced</a></li>
<li class="chapter" data-level="9.3" data-path="c09.html"><a href="c09.html#vocabulary-2"><i class="fa fa-check"></i><b>9.3</b> Vocabulary</a></li>
<li class="chapter" data-level="9.4" data-path="c09.html"><a href="c09.html#chapter-overview-4"><i class="fa fa-check"></i><b>9.4</b> Chapter overview</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="c09.html"><a href="c09.html#background-2"><i class="fa fa-check"></i><b>9.4.1</b> Background</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="c09.html"><a href="c09.html#data-sources-2"><i class="fa fa-check"></i><b>9.5</b> Data sources</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="c09.html"><a href="c09.html#selecting-data"><i class="fa fa-check"></i><b>9.5.1</b> Selecting data</a></li>
<li class="chapter" data-level="9.5.2" data-path="c09.html"><a href="c09.html#methods-2"><i class="fa fa-check"></i><b>9.5.2</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="c09.html"><a href="c09.html#load-packages-2"><i class="fa fa-check"></i><b>9.6</b> Load packages</a></li>
<li class="chapter" data-level="9.7" data-path="c09.html"><a href="c09.html#import-data-2"><i class="fa fa-check"></i><b>9.7</b> Import data</a></li>
<li class="chapter" data-level="9.8" data-path="c09.html"><a href="c09.html#view-data-1"><i class="fa fa-check"></i><b>9.8</b> View data</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="c09.html"><a href="c09.html#discovering-distributions"><i class="fa fa-check"></i><b>9.8.1</b> Discovering distributions</a></li>
<li class="chapter" data-level="9.8.2" data-path="c09.html"><a href="c09.html#analyzing-spread"><i class="fa fa-check"></i><b>9.8.2</b> Analyzing spread</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="c09.html"><a href="c09.html#analysis-2"><i class="fa fa-check"></i><b>9.9</b> Analysis</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="c09.html"><a href="c09.html#creating-categories"><i class="fa fa-check"></i><b>9.9.1</b> Creating categories</a></li>
<li class="chapter" data-level="9.9.2" data-path="c09.html"><a href="c09.html#reveal-relationships"><i class="fa fa-check"></i><b>9.9.2</b> Reveal relationships</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="c09.html"><a href="c09.html#results-2"><i class="fa fa-check"></i><b>9.10</b> Results</a></li>
<li class="chapter" data-level="9.11" data-path="c09.html"><a href="c09.html#conclusion-5"><i class="fa fa-check"></i><b>9.11</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="c10.html"><a href="c10.html"><i class="fa fa-check"></i><b>10</b> Walkthrough 4: Longitudinal analysis with federal students with disabilities data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="c10.html"><a href="c10.html#topics-emphasized-5"><i class="fa fa-check"></i><b>10.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="10.2" data-path="c10.html"><a href="c10.html#functions-introduced-5"><i class="fa fa-check"></i><b>10.2</b> Functions introduced</a></li>
<li class="chapter" data-level="10.3" data-path="c10.html"><a href="c10.html#vocabulary-3"><i class="fa fa-check"></i><b>10.3</b> Vocabulary</a></li>
<li class="chapter" data-level="10.4" data-path="c10.html"><a href="c10.html#chapter-overview-5"><i class="fa fa-check"></i><b>10.4</b> Chapter overview</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="c10.html"><a href="c10.html#background-3"><i class="fa fa-check"></i><b>10.4.1</b> Background</a></li>
<li class="chapter" data-level="10.4.2" data-path="c10.html"><a href="c10.html#methods-3"><i class="fa fa-check"></i><b>10.4.2</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="c10.html"><a href="c10.html#load-packages-3"><i class="fa fa-check"></i><b>10.5</b> Load packages</a></li>
<li class="chapter" data-level="10.6" data-path="c10.html"><a href="c10.html#import-data-3"><i class="fa fa-check"></i><b>10.6</b> Import data</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="c10.html"><a href="c10.html#what-to-download"><i class="fa fa-check"></i><b>10.6.1</b> What to download</a></li>
<li class="chapter" data-level="10.6.2" data-path="c10.html"><a href="c10.html#a-note-on-file-paths"><i class="fa fa-check"></i><b>10.6.2</b> A note on file paths</a></li>
<li class="chapter" data-level="10.6.3" data-path="c10.html"><a href="c10.html#how-to-download-the-files"><i class="fa fa-check"></i><b>10.6.3</b> How to download the files</a></li>
<li class="chapter" data-level="10.6.4" data-path="c10.html"><a href="c10.html#reading-in-one-dataset"><i class="fa fa-check"></i><b>10.6.4</b> Reading in one dataset</a></li>
<li class="chapter" data-level="10.6.5" data-path="c10.html"><a href="c10.html#reading-in-many-datasets"><i class="fa fa-check"></i><b>10.6.5</b> Reading in many datasets</a></li>
<li class="chapter" data-level="10.6.6" data-path="c10.html"><a href="c10.html#loading-the-data-from-dataedu"><i class="fa fa-check"></i><b>10.6.6</b> Loading the data from {dataedu}</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="c10.html"><a href="c10.html#process-data-2"><i class="fa fa-check"></i><b>10.7</b> Process data</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="c10.html"><a href="c10.html#fix-the-variable-names-in-the-2016-data"><i class="fa fa-check"></i><b>10.7.1</b> Fix the variable names in the 2016 data</a></li>
<li class="chapter" data-level="10.7.2" data-path="c10.html"><a href="c10.html#pick-variables"><i class="fa fa-check"></i><b>10.7.2</b> Pick variables</a></li>
<li class="chapter" data-level="10.7.3" data-path="c10.html"><a href="c10.html#combine-six-datasets-into-one"><i class="fa fa-check"></i><b>10.7.3</b> Combine six datasets into one</a></li>
<li class="chapter" data-level="10.7.4" data-path="c10.html"><a href="c10.html#importing-the-data-from-the-dataedu-package"><i class="fa fa-check"></i><b>10.7.4</b> Importing the data from the {dataedu} package</a></li>
<li class="chapter" data-level="10.7.5" data-path="c10.html"><a href="c10.html#filter-for-the-desired-disabilities-and-age-groups"><i class="fa fa-check"></i><b>10.7.5</b> Filter for the desired disabilities and age groups</a></li>
<li class="chapter" data-level="10.7.6" data-path="c10.html"><a href="c10.html#rename-the-variables"><i class="fa fa-check"></i><b>10.7.6</b> Rename the variables</a></li>
<li class="chapter" data-level="10.7.7" data-path="c10.html"><a href="c10.html#clean-state-names"><i class="fa fa-check"></i><b>10.7.7</b> Clean state names</a></li>
<li class="chapter" data-level="10.7.8" data-path="c10.html"><a href="c10.html#tidy-the-dataset"><i class="fa fa-check"></i><b>10.7.8</b> Tidy the dataset</a></li>
<li class="chapter" data-level="10.7.9" data-path="c10.html"><a href="c10.html#convert-data-types"><i class="fa fa-check"></i><b>10.7.9</b> Convert data types</a></li>
<li class="chapter" data-level="10.7.10" data-path="c10.html"><a href="c10.html#explore-and-address-nas"><i class="fa fa-check"></i><b>10.7.10</b> Explore and address NAs</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="c10.html"><a href="c10.html#analysis-3"><i class="fa fa-check"></i><b>10.8</b> Analysis</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="c10.html"><a href="c10.html#visualize-the-dataset"><i class="fa fa-check"></i><b>10.8.1</b> Visualize the dataset</a></li>
<li class="chapter" data-level="10.8.2" data-path="c10.html"><a href="c10.html#model-the-dataset"><i class="fa fa-check"></i><b>10.8.2</b> Model the dataset</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="c10.html"><a href="c10.html#results-3"><i class="fa fa-check"></i><b>10.9</b> Results</a></li>
<li class="chapter" data-level="10.10" data-path="c10.html"><a href="c10.html#conclusion-6"><i class="fa fa-check"></i><b>10.10</b> Conclusion</a>
<ul>
<li class="chapter" data-level="10.10.1" data-path="c10.html"><a href="c10.html#student-level-data-for-analysis-of-local-populations-aggregate-data-for-base-rate-and-context"><i class="fa fa-check"></i><b>10.10.1</b> Student-level data for analysis of local populations: aggregate data for base rate and context</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="c11.html"><a href="c11.html"><i class="fa fa-check"></i><b>11</b> Walkthrough 5: Text analysis with social media data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="c11.html"><a href="c11.html#topics-emphasized-6"><i class="fa fa-check"></i><b>11.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="11.2" data-path="c11.html"><a href="c11.html#functions-introduced-6"><i class="fa fa-check"></i><b>11.2</b> Functions introduced</a></li>
<li class="chapter" data-level="11.3" data-path="c11.html"><a href="c11.html#functions-introduced-in-the-appendix-1"><i class="fa fa-check"></i><b>11.3</b> Functions introduced in the appendix</a></li>
<li class="chapter" data-level="11.4" data-path="c11.html"><a href="c11.html#vocabulary-4"><i class="fa fa-check"></i><b>11.4</b> Vocabulary</a></li>
<li class="chapter" data-level="11.5" data-path="c11.html"><a href="c11.html#chapter-overview-6"><i class="fa fa-check"></i><b>11.5</b> Chapter overview</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="c11.html"><a href="c11.html#background-4"><i class="fa fa-check"></i><b>11.5.1</b> Background</a></li>
<li class="chapter" data-level="11.5.2" data-path="c11.html"><a href="c11.html#data-source"><i class="fa fa-check"></i><b>11.5.2</b> Data source</a></li>
<li class="chapter" data-level="11.5.3" data-path="c11.html"><a href="c11.html#methods-4"><i class="fa fa-check"></i><b>11.5.3</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="c11.html"><a href="c11.html#load-packages-4"><i class="fa fa-check"></i><b>11.6</b> Load packages</a></li>
<li class="chapter" data-level="11.7" data-path="c11.html"><a href="c11.html#import-data-4"><i class="fa fa-check"></i><b>11.7</b> Import data</a></li>
<li class="chapter" data-level="11.8" data-path="c11.html"><a href="c11.html#view-data-2"><i class="fa fa-check"></i><b>11.8</b> View data</a></li>
<li class="chapter" data-level="11.9" data-path="c11.html"><a href="c11.html#process-data-3"><i class="fa fa-check"></i><b>11.9</b> Process data</a></li>
<li class="chapter" data-level="11.10" data-path="c11.html"><a href="c11.html#analysis-counting-words"><i class="fa fa-check"></i><b>11.10</b> Analysis: counting words</a></li>
<li class="chapter" data-level="11.11" data-path="c11.html"><a href="c11.html#analysis-sentiment-analysis"><i class="fa fa-check"></i><b>11.11</b> Analysis: sentiment analysis</a>
<ul>
<li class="chapter" data-level="11.11.1" data-path="c11.html"><a href="c11.html#count-positive-words"><i class="fa fa-check"></i><b>11.11.1</b> Count positive words</a></li>
<li class="chapter" data-level="11.11.2" data-path="c11.html"><a href="c11.html#dataviz-and-other-positive-words"><i class="fa fa-check"></i><b>11.11.2</b> “Dataviz” and other positive words</a></li>
<li class="chapter" data-level="11.11.3" data-path="c11.html"><a href="c11.html#taking-a-close-read-of-randomly-selected-tweets"><i class="fa fa-check"></i><b>11.11.3</b> Taking a close read of randomly selected tweets</a></li>
</ul></li>
<li class="chapter" data-level="11.12" data-path="c11.html"><a href="c11.html#conclusion-7"><i class="fa fa-check"></i><b>11.12</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="c12.html"><a href="c12.html"><i class="fa fa-check"></i><b>12</b> Walkthrough 6: Exploring relationships using social network analysis with social media data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="c12.html"><a href="c12.html#topics-emphasized-7"><i class="fa fa-check"></i><b>12.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="12.2" data-path="c12.html"><a href="c12.html#functions-introduced-7"><i class="fa fa-check"></i><b>12.2</b> Functions introduced</a></li>
<li class="chapter" data-level="12.3" data-path="c12.html"><a href="c12.html#vocabulary-5"><i class="fa fa-check"></i><b>12.3</b> Vocabulary</a></li>
<li class="chapter" data-level="12.4" data-path="c12.html"><a href="c12.html#chapter-overview-7"><i class="fa fa-check"></i><b>12.4</b> Chapter overview</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="c12.html"><a href="c12.html#background-5"><i class="fa fa-check"></i><b>12.4.1</b> Background</a></li>
<li class="chapter" data-level="12.4.2" data-path="c12.html"><a href="c12.html#packages"><i class="fa fa-check"></i><b>12.4.2</b> Packages</a></li>
<li class="chapter" data-level="12.4.3" data-path="c12.html"><a href="c12.html#data-sources-and-import"><i class="fa fa-check"></i><b>12.4.3</b> Data sources and import</a></li>
<li class="chapter" data-level="12.4.4" data-path="c12.html"><a href="c12.html#using-an-application-programming-interface-or-api"><i class="fa fa-check"></i><b>12.4.4</b> Using an Application Programming Interface (or API)</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="c12.html"><a href="c12.html#view-data-3"><i class="fa fa-check"></i><b>12.5</b> View data</a></li>
<li class="chapter" data-level="12.6" data-path="c12.html"><a href="c12.html#methods-process-data"><i class="fa fa-check"></i><b>12.6</b> Methods: process data</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="c12.html"><a href="c12.html#extracting-mentions"><i class="fa fa-check"></i><b>12.6.1</b> Extracting mentions</a></li>
<li class="chapter" data-level="12.6.2" data-path="c12.html"><a href="c12.html#putting-the-edgelist-together"><i class="fa fa-check"></i><b>12.6.2</b> Putting the edgelist together</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="c12.html"><a href="c12.html#analysis-and-results"><i class="fa fa-check"></i><b>12.7</b> Analysis and results</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="c12.html"><a href="c12.html#plotting-the-network"><i class="fa fa-check"></i><b>12.7.1</b> Plotting the network</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="c12.html"><a href="c12.html#conclusion-8"><i class="fa fa-check"></i><b>12.8</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="c13.html"><a href="c13.html"><i class="fa fa-check"></i><b>13</b> Walkthrough 7: The role (and usefulness) of multilevel models</a>
<ul>
<li class="chapter" data-level="13.1" data-path="c13.html"><a href="c13.html#topics-emphasized-8"><i class="fa fa-check"></i><b>13.1</b> Topics Emphasized</a></li>
<li class="chapter" data-level="13.2" data-path="c13.html"><a href="c13.html#functions-introduced-8"><i class="fa fa-check"></i><b>13.2</b> Functions Introduced</a></li>
<li class="chapter" data-level="13.3" data-path="c13.html"><a href="c13.html#vocabulary-6"><i class="fa fa-check"></i><b>13.3</b> Vocabulary</a></li>
<li class="chapter" data-level="13.4" data-path="c13.html"><a href="c13.html#chapter-overview-8"><i class="fa fa-check"></i><b>13.4</b> Chapter Overview</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="c13.html"><a href="c13.html#background-6"><i class="fa fa-check"></i><b>13.4.1</b> Background</a></li>
<li class="chapter" data-level="13.4.2" data-path="c13.html"><a href="c13.html#data-source-1"><i class="fa fa-check"></i><b>13.4.2</b> Data Source</a></li>
<li class="chapter" data-level="13.4.3" data-path="c13.html"><a href="c13.html#methods-5"><i class="fa fa-check"></i><b>13.4.3</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="c13.html"><a href="c13.html#load-packages-5"><i class="fa fa-check"></i><b>13.5</b> Load Packages</a></li>
<li class="chapter" data-level="13.6" data-path="c13.html"><a href="c13.html#the-role-of-dummy-codes"><i class="fa fa-check"></i><b>13.6</b> The Role of Dummy Codes</a></li>
<li class="chapter" data-level="13.7" data-path="c13.html"><a href="c13.html#import-data-5"><i class="fa fa-check"></i><b>13.7</b> Import Data</a></li>
<li class="chapter" data-level="13.8" data-path="c13.html"><a href="c13.html#analysis-4"><i class="fa fa-check"></i><b>13.8</b> Analysis</a>
<ul>
<li class="chapter" data-level="13.8.1" data-path="c13.html"><a href="c13.html#regression-linear-model-analysis-with-dummy-codes"><i class="fa fa-check"></i><b>13.8.1</b> Regression (Linear Model) Analysis with Dummy Codes</a></li>
<li class="chapter" data-level="13.8.2" data-path="c13.html"><a href="c13.html#a-deep-dive-into-multilevel-models"><i class="fa fa-check"></i><b>13.8.2</b> A Deep-Dive into Multilevel Models</a></li>
<li class="chapter" data-level="13.8.3" data-path="c13.html"><a href="c13.html#multilevel-model-analysis"><i class="fa fa-check"></i><b>13.8.3</b> Multilevel Model Analysis</a></li>
</ul></li>
<li class="chapter" data-level="13.9" data-path="c13.html"><a href="c13.html#results-4"><i class="fa fa-check"></i><b>13.9</b> Results</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="c13.html"><a href="c13.html#adding-additional-levels"><i class="fa fa-check"></i><b>13.9.1</b> Adding Additional Levels</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="c13.html"><a href="c13.html#conclusion-9"><i class="fa fa-check"></i><b>13.10</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="c14.html"><a href="c14.html"><i class="fa fa-check"></i><b>14</b> Walkthrough 8: Predicting students’ final grades using machine learning methods with online course data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="c14.html"><a href="c14.html#topics-emphasized-9"><i class="fa fa-check"></i><b>14.1</b> Topics emphasized</a></li>
<li class="chapter" data-level="14.2" data-path="c14.html"><a href="c14.html#functions-introduced-9"><i class="fa fa-check"></i><b>14.2</b> Functions introduced</a></li>
<li class="chapter" data-level="14.3" data-path="c14.html"><a href="c14.html#vocabulary-7"><i class="fa fa-check"></i><b>14.3</b> Vocabulary</a></li>
<li class="chapter" data-level="14.4" data-path="c14.html"><a href="c14.html#chapter-overview-9"><i class="fa fa-check"></i><b>14.4</b> Chapter overview</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="c14.html"><a href="c14.html#background-7"><i class="fa fa-check"></i><b>14.4.1</b> Background</a></li>
<li class="chapter" data-level="14.4.2" data-path="c14.html"><a href="c14.html#data-sources-3"><i class="fa fa-check"></i><b>14.4.2</b> Data sources</a></li>
<li class="chapter" data-level="14.4.3" data-path="c14.html"><a href="c14.html#methods-6"><i class="fa fa-check"></i><b>14.4.3</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="c14.html"><a href="c14.html#load-packages-6"><i class="fa fa-check"></i><b>14.5</b> Load packages</a></li>
<li class="chapter" data-level="14.6" data-path="c14.html"><a href="c14.html#import-and-view-data"><i class="fa fa-check"></i><b>14.6</b> Import and view data</a></li>
<li class="chapter" data-level="14.7" data-path="c14.html"><a href="c14.html#process-data-4"><i class="fa fa-check"></i><b>14.7</b> Process data</a></li>
<li class="chapter" data-level="14.8" data-path="c14.html"><a href="c14.html#analysis-5"><i class="fa fa-check"></i><b>14.8</b> Analysis</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="c14.html"><a href="c14.html#use-of-caret"><i class="fa fa-check"></i><b>14.8.1</b> Use of {caret}</a></li>
<li class="chapter" data-level="14.8.2" data-path="c14.html"><a href="c14.html#tuning-the-random-forest-model"><i class="fa fa-check"></i><b>14.8.2</b> Tuning the random forest model</a></li>
<li class="chapter" data-level="14.8.3" data-path="c14.html"><a href="c14.html#examining-predictive-accuracy-on-the-test-dataset"><i class="fa fa-check"></i><b>14.8.3</b> Examining predictive accuracy on the test dataset</a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="c14.html"><a href="c14.html#results-5"><i class="fa fa-check"></i><b>14.9</b> Results</a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="c14.html"><a href="c14.html#variable-importance"><i class="fa fa-check"></i><b>14.9.1</b> Variable importance</a></li>
<li class="chapter" data-level="14.9.2" data-path="c14.html"><a href="c14.html#comparing-random-forest-to-regression"><i class="fa fa-check"></i><b>14.9.2</b> Comparing random forest to regression</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="c14.html"><a href="c14.html#conclusion-10"><i class="fa fa-check"></i><b>14.10</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="c15.html"><a href="c15.html"><i class="fa fa-check"></i><b>15</b> Introducing data science tools to your education job</a>
<ul>
<li class="chapter" data-level="15.1" data-path="c15.html"><a href="c15.html#chapter-overview-10"><i class="fa fa-check"></i><b>15.1</b> Chapter overview</a></li>
<li class="chapter" data-level="15.2" data-path="c15.html"><a href="c15.html#the-gift-of-speed-and-scale"><i class="fa fa-check"></i><b>15.2</b> The gift of speed and scale</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="c15.html"><a href="c15.html#working-with-data-faster"><i class="fa fa-check"></i><b>15.2.1</b> Working with data faster</a></li>
<li class="chapter" data-level="15.2.2" data-path="c15.html"><a href="c15.html#working-with-more-data"><i class="fa fa-check"></i><b>15.2.2</b> Working with more data</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="c15.html"><a href="c15.html#other-ways-to-reimagine-the-scale-of-your-work"><i class="fa fa-check"></i><b>15.3</b> Other ways to reimagine the scale of your work</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="c15.html"><a href="c15.html#reflect-on-your-current-scale-then-push-to-the-next-level"><i class="fa fa-check"></i><b>15.3.1</b> Reflect on your current scale, then push to the next level</a></li>
<li class="chapter" data-level="15.3.2" data-path="c15.html"><a href="c15.html#look-for-lots-of-similarly-structured-sata"><i class="fa fa-check"></i><b>15.3.2</b> Look for lots of similarly structured sata</a></li>
<li class="chapter" data-level="15.3.3" data-path="c15.html"><a href="c15.html#cleaning-data"><i class="fa fa-check"></i><b>15.3.3</b> Cleaning data</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="c15.html"><a href="c15.html#solving-problems-together"><i class="fa fa-check"></i><b>15.4</b> Solving problems together</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="c15.html"><a href="c15.html#data-science-in-education-and-empathy"><i class="fa fa-check"></i><b>15.4.1</b> Data science in education and empathy</a></li>
<li class="chapter" data-level="15.4.2" data-path="c15.html"><a href="c15.html#create-a-daily-practice-commitment-that-answers-someone-elses-question"><i class="fa fa-check"></i><b>15.4.2</b> Create a daily practice commitment that answers someone else’s question</a></li>
<li class="chapter" data-level="15.4.3" data-path="c15.html"><a href="c15.html#build-your-network"><i class="fa fa-check"></i><b>15.4.3</b> Build your network</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="c15.html"><a href="c15.html#for-k-12-teachers"><i class="fa fa-check"></i><b>15.5</b> For K-12 teachers</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="c16.html"><a href="c16.html"><i class="fa fa-check"></i><b>16</b> Teaching data science</a>
<ul>
<li class="chapter" data-level="16.1" data-path="c16.html"><a href="c16.html#chapter-overview-11"><i class="fa fa-check"></i><b>16.1</b> Chapter overview</a></li>
<li class="chapter" data-level="16.2" data-path="c16.html"><a href="c16.html#the-pedagogical-principles-this-book-is-based-upon"><i class="fa fa-check"></i><b>16.2</b> The pedagogical principles this book is based upon</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="c16.html"><a href="c16.html#problem-based-learning"><i class="fa fa-check"></i><b>16.2.1</b> Problem-based learning</a></li>
<li class="chapter" data-level="16.2.2" data-path="c16.html"><a href="c16.html#differentiation"><i class="fa fa-check"></i><b>16.2.2</b> Differentiation</a></li>
<li class="chapter" data-level="16.2.3" data-path="c16.html"><a href="c16.html#working-in-the-open"><i class="fa fa-check"></i><b>16.2.3</b> Working in the open</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="c16.html"><a href="c16.html#building-mental-models"><i class="fa fa-check"></i><b>16.3</b> Building mental models</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="c16.html"><a href="c16.html#universal-design"><i class="fa fa-check"></i><b>16.3.1</b> Universal design</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="c16.html"><a href="c16.html#strategies-for-teaching-data-science"><i class="fa fa-check"></i><b>16.4</b> Strategies for teaching data science</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="c16.html"><a href="c16.html#provide-a-home-base-for-learners-to-access-resources-and-to-learn-more"><i class="fa fa-check"></i><b>16.4.1</b> Provide a home base for learners to access resources (and to learn more)</a></li>
<li class="chapter" data-level="16.4.2" data-path="c16.html"><a href="c16.html#when-it-comes-to-writing-code-think-early-and-often"><i class="fa fa-check"></i><b>16.4.2</b> When it comes to writing code, think early and often</a></li>
<li class="chapter" data-level="16.4.3" data-path="c16.html"><a href="c16.html#dont-touch-that-keyboard"><i class="fa fa-check"></i><b>16.4.3</b> Don’t touch that keyboard!</a></li>
<li class="chapter" data-level="16.4.4" data-path="c16.html"><a href="c16.html#anticipate-issues-and-sacrifice-accuracy-for-clarity"><i class="fa fa-check"></i><b>16.4.4</b> Anticipate issues (and sacrifice accuracy for clarity)</a></li>
<li class="chapter" data-level="16.4.5" data-path="c16.html"><a href="c16.html#start-lessons-or-activities-with-visualizing-data"><i class="fa fa-check"></i><b>16.4.5</b> Start lessons or activities with visualizing data</a></li>
<li class="chapter" data-level="16.4.6" data-path="c16.html"><a href="c16.html#consider-representation-and-inclusion-in-the-data-and-examples-you-use"><i class="fa fa-check"></i><b>16.4.6</b> Consider representation and inclusion in the data and examples you use</a></li>
<li class="chapter" data-level="16.4.7" data-path="c16.html"><a href="c16.html#draw-on-other-resources"><i class="fa fa-check"></i><b>16.4.7</b> Draw on other resources</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="c16.html"><a href="c16.html#general-strategies-related-to-teaching-and-learning"><i class="fa fa-check"></i><b>16.5</b> General strategies related to teaching and learning</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="c16.html"><a href="c16.html#teaching-and-learning-are-complex"><i class="fa fa-check"></i><b>16.5.1</b> Teaching and learning are complex</a></li>
<li class="chapter" data-level="16.5.2" data-path="c16.html"><a href="c16.html#learners-learn-many-different-things-consciously-and-unconsciously"><i class="fa fa-check"></i><b>16.5.2</b> Learners learn many different things (consciously and unconsciously)</a></li>
<li class="chapter" data-level="16.5.3" data-path="c16.html"><a href="c16.html#meta-cognition-is-important-even-though-it-sounds-more-dophisticated-than-it-is"><i class="fa fa-check"></i><b>16.5.3</b> Meta-cognition is important (even though it sounds more dophisticated than it is!)</a></li>
<li class="chapter" data-level="16.5.4" data-path="c16.html"><a href="c16.html#learning-strategies-matter"><i class="fa fa-check"></i><b>16.5.4</b> Learning strategies matter</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="c16.html"><a href="c16.html#summary-1"><i class="fa fa-check"></i><b>16.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="c17.html"><a href="c17.html"><i class="fa fa-check"></i><b>17</b> Learning more</a>
<ul>
<li class="chapter" data-level="17.1" data-path="c17.html"><a href="c17.html#introduction"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="c17.html"><a href="c17.html#adopt-a-growth-mindset"><i class="fa fa-check"></i><b>17.2</b> Adopt a growth mindset</a></li>
<li class="chapter" data-level="17.3" data-path="c17.html"><a href="c17.html#discover-new-information"><i class="fa fa-check"></i><b>17.3</b> Discover new information</a></li>
<li class="chapter" data-level="17.4" data-path="c17.html"><a href="c17.html#ask-for-help"><i class="fa fa-check"></i><b>17.4</b> Ask for help</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="c17.html"><a href="c17.html#discussion-forums"><i class="fa fa-check"></i><b>17.4.1</b> Discussion forums</a></li>
<li class="chapter" data-level="17.4.2" data-path="c17.html"><a href="c17.html#github-repositories"><i class="fa fa-check"></i><b>17.4.2</b> GitHub repositories</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="c17.html"><a href="c17.html#share-what-youve-learned"><i class="fa fa-check"></i><b>17.5</b> Share what you’ve learned</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="c17.html"><a href="c17.html#where-to-share"><i class="fa fa-check"></i><b>17.5.1</b> Where to share</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="c17.html"><a href="c17.html#welcome-others"><i class="fa fa-check"></i><b>17.6</b> Welcome others</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="c18.html"><a href="c18.html"><i class="fa fa-check"></i><b>18</b> Additional resources</a>
<ul>
<li class="chapter" data-level="18.1" data-path="c18.html"><a href="c18.html#chapter-overview-12"><i class="fa fa-check"></i><b>18.1</b> Chapter overview</a></li>
<li class="chapter" data-level="18.2" data-path="c18.html"><a href="c18.html#data-science-courses"><i class="fa fa-check"></i><b>18.2</b> Data science courses</a></li>
<li class="chapter" data-level="18.3" data-path="c18.html"><a href="c18.html#workshop-materials"><i class="fa fa-check"></i><b>18.3</b> Workshop materials</a></li>
<li class="chapter" data-level="18.4" data-path="c18.html"><a href="c18.html#data-visualization"><i class="fa fa-check"></i><b>18.4</b> Data visualization</a></li>
<li class="chapter" data-level="18.5" data-path="c18.html"><a href="c18.html#books-related-to-data-science-in-education"><i class="fa fa-check"></i><b>18.5</b> Books related to data science in education</a></li>
<li class="chapter" data-level="18.6" data-path="c18.html"><a href="c18.html#articles-related-to-data-science-in-education"><i class="fa fa-check"></i><b>18.6</b> Articles related to data science in education</a></li>
<li class="chapter" data-level="18.7" data-path="c18.html"><a href="c18.html#equity-resources"><i class="fa fa-check"></i><b>18.7</b> Equity resources</a></li>
<li class="chapter" data-level="18.8" data-path="c18.html"><a href="c18.html#programming-with-r"><i class="fa fa-check"></i><b>18.8</b> Programming with R</a></li>
<li class="chapter" data-level="18.9" data-path="c18.html"><a href="c18.html#statistics"><i class="fa fa-check"></i><b>18.9</b> Statistics</a>
<ul>
<li class="chapter" data-level="18.9.1" data-path="c18.html"><a href="c18.html#introductory-statistics"><i class="fa fa-check"></i><b>18.9.1</b> Introductory statistics</a></li>
<li class="chapter" data-level="18.9.2" data-path="c18.html"><a href="c18.html#advanced-statistics"><i class="fa fa-check"></i><b>18.9.2</b> Advanced statistics</a></li>
</ul></li>
<li class="chapter" data-level="18.10" data-path="c18.html"><a href="c18.html#r-packages-and-statistical-software-development"><i class="fa fa-check"></i><b>18.10</b> R packages and statistical software development</a></li>
<li class="chapter" data-level="18.11" data-path="c18.html"><a href="c18.html#a-career-in-data-science"><i class="fa fa-check"></i><b>18.11</b> A career in data science</a></li>
<li class="chapter" data-level="18.12" data-path="c18.html"><a href="c18.html#places-to-share-your-work"><i class="fa fa-check"></i><b>18.12</b> Places to share your work</a></li>
<li class="chapter" data-level="18.13" data-path="c18.html"><a href="c18.html#cheat-sheets"><i class="fa fa-check"></i><b>18.13</b> Cheat sheets</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="c19.html"><a href="c19.html"><i class="fa fa-check"></i><b>19</b> Conclusion: Where to next?</a>
<ul>
<li class="chapter" data-level="19.1" data-path="c19.html"><a href="c19.html#learn-in-the-context-of-education"><i class="fa fa-check"></i><b>19.1</b> Learn in the context of education</a></li>
<li class="chapter" data-level="19.2" data-path="c19.html"><a href="c19.html#learn-to-collaborate-with-others"><i class="fa fa-check"></i><b>19.2</b> Learn to collaborate with others</a></li>
<li class="chapter" data-level="19.3" data-path="c19.html"><a href="c19.html#learn-every-time-you-code"><i class="fa fa-check"></i><b>19.3</b> Learn every time you code</a></li>
<li class="chapter" data-level="19.4" data-path="c19.html"><a href="c19.html#learn-to-take-strategic-breaks-to-help-solve-problems"><i class="fa fa-check"></i><b>19.4</b> Learn to take strategic breaks to help solve problems</a></li>
<li class="chapter" data-level="19.5" data-path="c19.html"><a href="c19.html#learn-more-meaningfully-by-knowing-your-why"><i class="fa fa-check"></i><b>19.5</b> Learn more meaningfully by knowing your why</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="c20.html"><a href="c20.html"><i class="fa fa-check"></i><b>20</b> Appendices</a>
<ul>
<li class="chapter" data-level="20.1" data-path="c20.html"><a href="c20.html#c20a"><i class="fa fa-check"></i><b>20.1</b> Appendix A: importing data</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="c20.html"><a href="c20.html#using-functions-to-import-data"><i class="fa fa-check"></i><b>20.1.1</b> Using functions to import data</a></li>
<li class="chapter" data-level="20.1.2" data-path="c20.html"><a href="c20.html#saving-a-file-from-the-internet"><i class="fa fa-check"></i><b>20.1.2</b> Saving a file from the internet</a></li>
<li class="chapter" data-level="20.1.3" data-path="c20.html"><a href="c20.html#loading-a-.csv-file"><i class="fa fa-check"></i><b>20.1.3</b> Loading a <code>.csv</code> file</a></li>
<li class="chapter" data-level="20.1.4" data-path="c20.html"><a href="c20.html#saving-files"><i class="fa fa-check"></i><b>20.1.4</b> Saving files</a></li>
<li class="chapter" data-level="20.1.5" data-path="c20.html"><a href="c20.html#loading-excel-files"><i class="fa fa-check"></i><b>20.1.5</b> Loading Excel files</a></li>
<li class="chapter" data-level="20.1.6" data-path="c20.html"><a href="c20.html#loading-sav-files"><i class="fa fa-check"></i><b>20.1.6</b> Loading SAV files</a></li>
<li class="chapter" data-level="20.1.7" data-path="c20.html"><a href="c20.html#google-sheets"><i class="fa fa-check"></i><b>20.1.7</b> Google sheets</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="c20.html"><a href="c20.html#appendix-b-accessing-twitter-data-c20b"><i class="fa fa-check"></i><b>20.2</b> Appendix B: accessing Twitter data {c20b}</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="c20.html"><a href="c20.html#accessing-twitter-data-from-the-last-seven-days"><i class="fa fa-check"></i><b>20.2.1</b> Accessing Twitter data from the last seven days</a></li>
<li class="chapter" data-level="20.2.2" data-path="c20.html"><a href="c20.html#accessing-historical-twitter-data-when-you-have-access-to-already-collected-status-urls"><i class="fa fa-check"></i><b>20.2.2</b> Accessing historical Twitter data when you have access to already-collected status URLs</a></li>
<li class="chapter" data-level="20.2.3" data-path="c20.html"><a href="c20.html#accessing-historical-data-when-you-do-not-have-access-to-status-urls"><i class="fa fa-check"></i><b>20.2.3</b> Accessing historical data when you do not have access to status URLs</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="c20.html"><a href="c20.html#c20c"><i class="fa fa-check"></i><b>20.3</b> Appendix C: social network influence and selection models</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="c20.html"><a href="c20.html#an-example-of-influence"><i class="fa fa-check"></i><b>20.3.1</b> An example of influence</a></li>
<li class="chapter" data-level="20.3.2" data-path="c20.html"><a href="c20.html#joining-the-data-1"><i class="fa fa-check"></i><b>20.3.2</b> Joining the data</a></li>
<li class="chapter" data-level="20.3.3" data-path="c20.html"><a href="c20.html#an-example-of-selection"><i class="fa fa-check"></i><b>20.3.3</b> An example of selection</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="c20.html"><a href="c20.html#appendix-d-colophon"><i class="fa fa-check"></i><b>20.4</b> Appendix D: colophon</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://www.emilybovee.com/">Emily A. Bovee</a></li>
<li><a href="https://ryanestrellado.com/">Ryan A. Estrellado</a></li>
<li><a href="https://www.jessemaegan.com/">Jesse Mostipak</a></li>
<li><a href="https://joshuamrosenberg.com/">Joshua M. Rosenberg</a></li>
<li><a href="https://ivelasq.rbind.io/">Isabella C. Velásquez</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science in Education Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="c10" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">10</span> Walkthrough 4: Longitudinal analysis with federal students with disabilities data<a href="c10.html#c10" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>Abstract</strong></p>
<p>This chapter explores cleaning, visualizing, and modeling aggregate data. Data scientists in education frequently work with public aggregate data when student level data is not available. By analyzing aggregate datasets, data scientists in education uncover context for other analyses. Using a freely available federal government dataset, this chapter compares the number of female and male students in special education over time in the United States. Analysis on this scale provides useful context for district and school level analysis. It encourages questions about the experiences of students in special education at the local level by offering a basis for comparison at a national level. Data science tools in this chapter include importing data, preparing data for analysis, visualizing data, and selecting plots for communicating results.</p>
<div id="topics-emphasized-5" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Topics emphasized<a href="c10.html#topics-emphasized-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Importing data</li>
<li>Tidying data</li>
<li>Transforming data</li>
<li>Visualizing data</li>
<li>Modeling data</li>
<li>Communicating results</li>
</ul>
</div>
<div id="functions-introduced-5" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Functions introduced<a href="c10.html#functions-introduced-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><code>list.files()</code></li>
<li><code>download.file()</code></li>
<li><code>lubridate::ymd()</code></li>
<li><code>identical()</code></li>
<li><code>dplyr::top_n()</code></li>
<li><code>ggplot2::geom_jitter()</code></li>
<li><code>dplyr::arrange()</code></li>
</ul>
</div>
<div id="vocabulary-3" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Vocabulary<a href="c10.html#vocabulary-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>aggregate data</li>
<li>file path</li>
<li>list</li>
<li>read in</li>
<li>tidy format</li>
<li>statistical model</li>
<li>student-level data</li>
<li>longitudinal analysis</li>
<li>ratio</li>
<li>subset</li>
<li>vector</li>
</ul>
</div>
<div id="chapter-overview-5" class="section level2 hasAnchor" number="10.4">
<h2><span class="header-section-number">10.4</span> Chapter overview<a href="c10.html#chapter-overview-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data scientists working in education don’t always have access to student level
data, so knowing how to model publicly available datasets, as in <a href="#c9"><em>the previous
chapter</em></a>, is a useful skill. This walkthrough builds upon and extends the
focus on aggregate data in the last chapter to focus on a change over time in
students with disabilities in each state. We note that analyses that involve
time can go by a number of names, such as longitudinal analyses or time series
analyses, or—less formally—analyses or studies of change over time.</p>
<p>Here, we primarily use the term longitudinal analysis to refer to analyses of
data at multiple time points. While data from two time points would be included in
this definition, our emphasis is on data from a greater number of time points, which
can reveal more nuance in how change over time is happening.</p>
<div id="background-3" class="section level3 hasAnchor" number="10.4.1">
<h3><span class="header-section-number">10.4.1</span> Background<a href="c10.html#background-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this chapter, we’ll be learning some ways to explore data over time. In
addition, we’ll be learning some techniques for exploring a publicly
available dataset. Like most public datasets (see <a href="#c9"><em>the previous chapter</em></a>),
this one contains aggregate data. This means that someone totaled up the student
counts so that it doesn’t reveal any private information.</p>
<p>You can download the datasets for this walkthrough on the United States
Department of Education website (see Department <span class="citation">of Education (<a href="references.html#ref-usdoe2019">2020</a>)</span>)<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>;
though they are also available in the {dataedu} package that accompanies this
book, as we describe in the “Importing the Data From the {dataedu} Package” section below.</p>
</div>
<div id="methods-3" class="section level3 hasAnchor" number="10.4.2">
<h3><span class="header-section-number">10.4.2</span> Methods<a href="c10.html#methods-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this walkthrough, we’ll learn how to read multiple datasets in using the
<code>map()</code> function. Next, we’ll prepare our data for analysis by cleaning the
variable names. Finally, we’ll explore this dataset by visualizing student
counts and comparing male to female ratios over time.</p>
</div>
</div>
<div id="load-packages-3" class="section level2 hasAnchor" number="10.5">
<h2><span class="header-section-number">10.5</span> Load packages<a href="c10.html#load-packages-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The function <code>here()</code> from the {here} package can cause conflicts with other functions called <code>here()</code>. We can prevent problems by loading that package last and including the package name for every call to <code>here()</code>, like this: <code>here::here()</code>. This is called “including the namespace”.</p>
<p>If you have not installed any of these packages, then you will need to do so, first, using the <code>install.packages()</code> function; see the <a href="c06.html#c06p">“Packages” section</a> of the <a href="c06.html#c06">“Foundational Skills”</a> chapter for instructions (and an overview of what packages are and how they work).</p>
<p>You can load the packages needed in this walkthrough by running this code:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="c10.html#cb150-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb150-2"><a href="c10.html#cb150-2" tabindex="-1"></a><span class="fu">library</span>(dataedu)</span>
<span id="cb150-3"><a href="c10.html#cb150-3" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb150-4"><a href="c10.html#cb150-4" tabindex="-1"></a><span class="fu">library</span>(here)</span></code></pre></div>
</div>
<div id="import-data-3" class="section level2 hasAnchor" number="10.6">
<h2><span class="header-section-number">10.6</span> Import data<a href="c10.html#import-data-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this analysis we’ll be importing and combining six datasets that describe the
number of students with disabilities in a given year. Let’s spend some time
carefully reviewing how to get the <code>.csv</code> files we’ll need downloaded and stored
on your computer. If you want to run the code exactly as written here, you’ll
need to store the same datasets in the right location. As an alternate, we make these data files that are used in the walkthrough—like those in other walkthroughs—available through the {dataedu} package. Last, we note that while it’s possible to use this
walkthrough on different datasets or to store them in different locations on
your computer, you’ll need to make adjustments to your code based on the
datasets you used and where you stored them. We suggest only doing this if you
already have some experience using R.</p>
<div id="what-to-download" class="section level3 hasAnchor" number="10.6.1">
<h3><span class="header-section-number">10.6.1</span> What to download<a href="c10.html#what-to-download" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this walkthrough, we’ll be using six separate datasets of child counts, one
for each year between 2012 and 2017. If you’re copying and pasting the code in
this walkthrough, we recommend downloading the datasets from our GitHub
repository for the most reliable results. As we note above, you can also access this data after they have been merged via the {dataedu} package; see the “Importing the Data From the {dataedu} Package” section of this chapter. Here’s a link to each file; we also include a short URL via the URL-shortener website
<em>bit.ly</em>:</p>
<ul>
<li><p><a href="https://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2012.csv">2012 data</a> (https<a href=""></a>://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2012.csv) (<a href="https://bit.ly/3dCtVtf" class="uri">https://bit.ly/3dCtVtf</a>)</p></li>
<li><p><a href="https://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2013.csv">2013 data</a> (https<a href=""></a>://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2013.csv) (<a href="https://bit.ly/33WXnFX" class="uri">https://bit.ly/33WXnFX</a>)</p></li>
<li><p><a href="https://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2014.csv">2014 data</a> (https<a href=""></a>://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2014.csv) (<a href="https://bit.ly/2UvSwbx" class="uri">https://bit.ly/2UvSwbx</a>)</p></li>
<li><p><a href="https://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2015.csv">2015 data</a> (https<a href=""></a>://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2015.csv) (<a href="https://bit.ly/39wQAUg" class="uri">https://bit.ly/39wQAUg</a>)</p></li>
<li><p><a href="https://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2016.csv">2016 data</a> (https<a href=""></a>://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2016.csv) (<a href="https://bit.ly/2JubWHC" class="uri">https://bit.ly/2JubWHC</a>)</p></li>
<li><p><a href="https://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2017-18.csv">2017 data</a> (https<a href=""></a>://github.com/data-edu/data-science-in-education/raw/master/data/longitudinal_data/bchildcountandedenvironments2017-18.csv) (<a href="https://bit.ly/2wPLu8w" class="uri">https://bit.ly/2wPLu8w</a>)</p></li>
</ul>
<p>You can also find these files on the <a href="https://www2.ed.gov/programs/osepidea/618-data/state-level-data-files/index.html">United States Department of Education
website</a>
(https<a href=""></a>://www2.ed.gov/programs/osepidea/618-data/state-level-data-files/index.html)</p>
</div>
<div id="a-note-on-file-paths" class="section level3 hasAnchor" number="10.6.2">
<h3><span class="header-section-number">10.6.2</span> A note on file paths<a href="c10.html#a-note-on-file-paths" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you download these files, be sure to store them in a folder in your working
directory. To get to the data in this walkthrough, we can use this file path
in our working directory: “data/longitudinal_data”. We’ll be using the <code>here()</code> <em>function</em> from the {here}
<em>package</em>, which conveniently fills in all the folders in the file path of your
working directory all the way up to the folders you specify in the arguments. So,
when referencing the file path “data/longitudinal_data”, we’ll use code like
this:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="c10.html#cb151-1" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,</span>
<span id="cb151-2"><a href="c10.html#cb151-2" tabindex="-1"></a>           <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb151-3"><a href="c10.html#cb151-3" tabindex="-1"></a>           <span class="st">&quot;bchildcountandedenvironments2012.csv&quot;</span>)</span></code></pre></div>
<p>You can use a different file path if you like, just take note of where your
downloaded files are so you can use the correct file path when writing your code
to import the data.</p>
</div>
<div id="how-to-download-the-files" class="section level3 hasAnchor" number="10.6.3">
<h3><span class="header-section-number">10.6.3</span> How to download the files<a href="c10.html#how-to-download-the-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One way to download the files is manually, saving them to a working directory.
Another way is to read them directly into R, using the <code>download.file()</code> function,
and the same file path described in the previous section. This functionality works for any CSV files that you can download from webpages; the key is that the URL must be to the CSV file itself (one way to check is to ensure that the URL ends in <code>.csv</code>).</p>
<p>Here is how we would do it for the first dataset (from the year 2012), using the shortened URLs included along with the full URLs above.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="c10.html#cb152-1" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb152-2"><a href="c10.html#cb152-2" tabindex="-1"></a>  <span class="co"># the url argument takes a URL for a CSV file</span></span>
<span id="cb152-3"><a href="c10.html#cb152-3" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">&#39;https://bit.ly/3dCtVtf&#39;</span>, </span>
<span id="cb152-4"><a href="c10.html#cb152-4" tabindex="-1"></a>  <span class="co"># destfile specifies where the file should be saved</span></span>
<span id="cb152-5"><a href="c10.html#cb152-5" tabindex="-1"></a>  <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,</span>
<span id="cb152-6"><a href="c10.html#cb152-6" tabindex="-1"></a>           <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb152-7"><a href="c10.html#cb152-7" tabindex="-1"></a>           <span class="st">&quot;bchildcountandedenvironments2012.csv&quot;</span>), </span>
<span id="cb152-8"><a href="c10.html#cb152-8" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span></code></pre></div>
<p>We can do this for the remaining five datasets:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="c10.html#cb153-1" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb153-2"><a href="c10.html#cb153-2" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">&#39;https://bit.ly/33WXnFX&#39;</span>, </span>
<span id="cb153-3"><a href="c10.html#cb153-3" tabindex="-1"></a>  <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,</span>
<span id="cb153-4"><a href="c10.html#cb153-4" tabindex="-1"></a>           <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb153-5"><a href="c10.html#cb153-5" tabindex="-1"></a>           <span class="st">&quot;bchildcountandedenvironments2013.csv&quot;</span>), </span>
<span id="cb153-6"><a href="c10.html#cb153-6" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb153-7"><a href="c10.html#cb153-7" tabindex="-1"></a></span>
<span id="cb153-8"><a href="c10.html#cb153-8" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb153-9"><a href="c10.html#cb153-9" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">&#39;https://bit.ly/2UvSwbx&#39;</span>, </span>
<span id="cb153-10"><a href="c10.html#cb153-10" tabindex="-1"></a>  <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,</span>
<span id="cb153-11"><a href="c10.html#cb153-11" tabindex="-1"></a>           <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb153-12"><a href="c10.html#cb153-12" tabindex="-1"></a>           <span class="st">&quot;bchildcountandedenvironments2014.csv&quot;</span>), </span>
<span id="cb153-13"><a href="c10.html#cb153-13" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb153-14"><a href="c10.html#cb153-14" tabindex="-1"></a></span>
<span id="cb153-15"><a href="c10.html#cb153-15" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb153-16"><a href="c10.html#cb153-16" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">&#39;https://bit.ly/39wQAUg&#39;</span>, </span>
<span id="cb153-17"><a href="c10.html#cb153-17" tabindex="-1"></a>  <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,</span>
<span id="cb153-18"><a href="c10.html#cb153-18" tabindex="-1"></a>           <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb153-19"><a href="c10.html#cb153-19" tabindex="-1"></a>           <span class="st">&quot;bchildcountandedenvironments2015.csv&quot;</span>), </span>
<span id="cb153-20"><a href="c10.html#cb153-20" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb153-21"><a href="c10.html#cb153-21" tabindex="-1"></a></span>
<span id="cb153-22"><a href="c10.html#cb153-22" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb153-23"><a href="c10.html#cb153-23" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">&#39;https://bit.ly/2JubWHC&#39;</span>, </span>
<span id="cb153-24"><a href="c10.html#cb153-24" tabindex="-1"></a>  <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,</span>
<span id="cb153-25"><a href="c10.html#cb153-25" tabindex="-1"></a>           <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb153-26"><a href="c10.html#cb153-26" tabindex="-1"></a>           <span class="st">&quot;bchildcountandedenvironments2016.csv&quot;</span>), </span>
<span id="cb153-27"><a href="c10.html#cb153-27" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb153-28"><a href="c10.html#cb153-28" tabindex="-1"></a></span>
<span id="cb153-29"><a href="c10.html#cb153-29" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb153-30"><a href="c10.html#cb153-30" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">&#39;https://bit.ly/2wPLu8w&#39;</span>,</span>
<span id="cb153-31"><a href="c10.html#cb153-31" tabindex="-1"></a>  <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,</span>
<span id="cb153-32"><a href="c10.html#cb153-32" tabindex="-1"></a>           <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb153-33"><a href="c10.html#cb153-33" tabindex="-1"></a>           <span class="st">&quot;bchildcountandedenvironments2017-18.csv&quot;</span>), </span>
<span id="cb153-34"><a href="c10.html#cb153-34" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span></code></pre></div>
<p>Now that the files are downloaded (either through the above code or from GitHub), we’re
ready to proceed to reading the data into R. If you were unable to download these files for any reason, they
are also available through the {dataedu} package, as we describe after the “Reading in Many Datasets” section.</p>
</div>
<div id="reading-in-one-dataset" class="section level3 hasAnchor" number="10.6.4">
<h3><span class="header-section-number">10.6.4</span> Reading in one dataset<a href="c10.html#reading-in-one-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We’ll be learning how to read in more than one dataset using the <code>map()</code>
function. Let’s try it first with one dataset, then we’ll scale our solution up
to multiple datasets. When you are analyzing multiple datasets that all have the
same structure, you can read in each dataset using one code chunk. This code
chunk will store each dataset as an element of a list.</p>
<p>Before doing that, you should explore one of the datasets to see what you can
learn about its structure. Clues from this exploration inform how you read in
all the datasets at once later on. For example, we can see that the first
dataset has some lines at the top that contain no data:</p>
<pre><code>## # A tibble: 16,234 × 31
##    `Extraction Date:` `6/12/2013` ...3       ...4  ...5  ...6  ...7  ...8  ...9 
##    &lt;chr&gt;              &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 Updated:           2/12/2014   &lt;NA&gt;       &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
##  2 Revised:           &lt;NA&gt;        &lt;NA&gt;       &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
##  3 &lt;NA&gt;               &lt;NA&gt;        &lt;NA&gt;       &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
##  4 Year               State Name  SEA Educa… SEA … Amer… Asia… Blac… Hisp… Nati…
##  5 2012               ALABAMA     Correctio… All … -     -     -     -     -    
##  6 2012               ALABAMA     Home       All … 1     1     57    12    0    
##  7 2012               ALABAMA     Homebound… All … -     -     -     -     -    
##  8 2012               ALABAMA     Inside re… All … -     -     -     -     -    
##  9 2012               ALABAMA     Inside re… All … -     -     -     -     -    
## 10 2012               ALABAMA     Inside re… All … -     -     -     -     -    
## # ℹ 16,224 more rows
## # ℹ 22 more variables: ...10 &lt;chr&gt;, ...11 &lt;chr&gt;, ...12 &lt;chr&gt;, ...13 &lt;chr&gt;,
## #   ...14 &lt;chr&gt;, ...15 &lt;chr&gt;, ...16 &lt;chr&gt;, ...17 &lt;chr&gt;, ...18 &lt;chr&gt;,
## #   ...19 &lt;chr&gt;, ...20 &lt;chr&gt;, ...21 &lt;chr&gt;, ...22 &lt;chr&gt;, ...23 &lt;chr&gt;,
## #   ...24 &lt;chr&gt;, ...25 &lt;chr&gt;, ...26 &lt;chr&gt;, ...27 &lt;chr&gt;, ...28 &lt;chr&gt;,
## #   ...29 &lt;chr&gt;, ...30 &lt;chr&gt;, ...31 &lt;chr&gt;</code></pre>
<p>The rows containing “Extraction Date:”, “Updated:”, and “Revised:” aren’t
actually rows. They’re notes the authors left at the top of the dataset to show
when the dataset was changed.</p>
<p><code>read_csv()</code> uses the first row as the variable names unless told otherwise, so
we need to tell <code>read_csv()</code> to skip those lines using the <code>skip</code> argument. If
we don’t, <code>read_csv()</code> assumes the very first line—the one that says
“Extraction Date:”—is the correct row of variable names. That’s why calling
<code>read_csv()</code> without the <code>skip</code> argument results in column names like <code>X4</code>. When
there’s no obvious column name to read in, <code>read_csv()</code> names them <code>X[...]</code> and
lets you know in a warning message.</p>
<p>Try using <code>skip = 4</code> in your call to <code>read_csv()</code>:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="c10.html#cb155-1" tabindex="-1"></a><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb155-2"><a href="c10.html#cb155-2" tabindex="-1"></a>  <span class="st">&quot;data&quot;</span>,</span>
<span id="cb155-3"><a href="c10.html#cb155-3" tabindex="-1"></a>  <span class="st">&quot;longitudinal_data&quot;</span>,</span>
<span id="cb155-4"><a href="c10.html#cb155-4" tabindex="-1"></a>  <span class="st">&quot;bchildcountandedenvironments2012.csv&quot;</span></span>
<span id="cb155-5"><a href="c10.html#cb155-5" tabindex="-1"></a>),</span>
<span id="cb155-6"><a href="c10.html#cb155-6" tabindex="-1"></a><span class="at">skip =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## # A tibble: 16,230 × 31
##    Year  `State Name` `SEA Education Environment`         SEA Disability Categ…¹
##    &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;                               &lt;chr&gt;                 
##  1 2012  ALABAMA      Correctional Facilities             All Disabilities      
##  2 2012  ALABAMA      Home                                All Disabilities      
##  3 2012  ALABAMA      Homebound/Hospital                  All Disabilities      
##  4 2012  ALABAMA      Inside regular class 40% through 7… All Disabilities      
##  5 2012  ALABAMA      Inside regular class 80% or more o… All Disabilities      
##  6 2012  ALABAMA      Inside regular class less than 40%… All Disabilities      
##  7 2012  ALABAMA      Other Location Regular Early Child… All Disabilities      
##  8 2012  ALABAMA      Other Location Regular Early Child… All Disabilities      
##  9 2012  ALABAMA      Parentally Placed in Private Schoo… All Disabilities      
## 10 2012  ALABAMA      Residential Facility, Age 3-5       All Disabilities      
## # ℹ 16,220 more rows
## # ℹ abbreviated name: ¹​`SEA Disability Category`
## # ℹ 27 more variables: `American Indian or Alaska Native Age 3 to 5` &lt;chr&gt;,
## #   `Asian Age 3-5` &lt;chr&gt;, `Black or African American Age 3-5` &lt;chr&gt;,
## #   `Hispanic/Latino Age 3-5` &lt;chr&gt;,
## #   `Native Hawaiian or Other Pacific Islander Age 3-5` &lt;chr&gt;,
## #   `Two or More Races Age 3-5` &lt;chr&gt;, `White Age 3-5` &lt;chr&gt;, …</code></pre>
<p>The <code>skip</code> argument told <code>read_csv()</code> to make the line containing “Year”, “State
Name”, and so on as the first line. The result is a dataset that has “Year”,
“State Name”, and so on as variable names.</p>
</div>
<div id="reading-in-many-datasets" class="section level3 hasAnchor" number="10.6.5">
<h3><span class="header-section-number">10.6.5</span> Reading in many datasets<a href="c10.html#reading-in-many-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Will the <code>read_csv()</code> and <code>skip = 4</code> combination work on all our datasets? To
find out, we’ll use this strategy:</p>
<ul>
<li>Store a vector of filenames and paths in a list. These paths point to our
datasets</li>
<li>Pass the list of filenames as arguments to <code>read_csv()</code> using
<code>purrr::map()</code>, including <code>skip = 4</code>, in our <code>read_csv()</code> call</li>
<li>Examine the new list of datasets to see if the variable names are correct</li>
</ul>
<p>Imagine a widget-making machine that works by acting on raw materials it
receives on a conveyer belt. This machine executes one set of instructions on
each of the raw materials it receives. You are the operator of the machine and
you design instructions to get a widget out of the raw materials. Your plan
might look something like this:</p>
<ul>
<li><strong>Raw materials</strong>: a list of filenames and their paths</li>
<li><strong>Widget-making machine</strong>: <code>purrr:map()</code></li>
<li><strong>Widget-making instructions</strong>: `read_csv(path, skip = 4)</li>
<li><strong>Expected widgets</strong>: a list of datasets</li>
</ul>
<p>Let’s create the raw materials first. Our raw materials will be file paths to
each of the CSVs we want to read. Use <code>list.files</code> to make a vector of filename
paths and name that vector <code>filenames</code>. <code>list.files</code> returns a vector of file
names in the folder specified in the <code>path</code> argument. When we set the
<code>full.names</code> argument to “TRUE”, we get a full path of these filenames. This
will be useful later when we need the file names and their paths to read our
data in.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="c10.html#cb157-1" tabindex="-1"></a><span class="co"># Get filenames from the data folder </span></span>
<span id="cb157-2"><a href="c10.html#cb157-2" tabindex="-1"></a>filenames <span class="ot">&lt;-</span></span>
<span id="cb157-3"><a href="c10.html#cb157-3" tabindex="-1"></a>  <span class="fu">list.files</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;longitudinal_data&quot;</span>),</span>
<span id="cb157-4"><a href="c10.html#cb157-4" tabindex="-1"></a>             <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb157-5"><a href="c10.html#cb157-5" tabindex="-1"></a></span>
<span id="cb157-6"><a href="c10.html#cb157-6" tabindex="-1"></a><span class="co"># A list of filenames and paths</span></span>
<span id="cb157-7"><a href="c10.html#cb157-7" tabindex="-1"></a>filenames</span></code></pre></div>
<p>That made a vector of six filenames, one for each year of child count data
stored in the data folder. Now pass our raw materials, the vector called
<code>filenames</code>, to our widget-making machine called <code>map()</code> and give the machine
the instructions <code>read_csv(., skip = 4)</code>. Name the list of widgets it cranks out
<code>all_files</code>:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="c10.html#cb158-1" tabindex="-1"></a><span class="co"># Pass filenames to map and read_csv</span></span>
<span id="cb158-2"><a href="c10.html#cb158-2" tabindex="-1"></a>all_files <span class="ot">&lt;-</span></span>
<span id="cb158-3"><a href="c10.html#cb158-3" tabindex="-1"></a>  filenames <span class="sc">%&gt;%</span></span>
<span id="cb158-4"><a href="c10.html#cb158-4" tabindex="-1"></a>  <span class="co"># Apply the function read_csv to each element of filenames</span></span>
<span id="cb158-5"><a href="c10.html#cb158-5" tabindex="-1"></a>  <span class="fu">map</span>(., <span class="sc">~</span> <span class="fu">read_csv</span>(., <span class="at">skip =</span> <span class="dv">4</span>))</span></code></pre></div>
<p>It is important to think ahead here. The goal is to combine the datasets in
<code>all_files</code> into one dataset using <code>bind_rows()</code>. But that will only work if all
the datasets in our list have the same number of columns and the same column
names. We can check our column names by using <code>map()</code> and <code>names()</code>:</p>
<p>We can use <code>identical()</code> to see if the variables from two datasets match. We see
that the variable names of the first and second datasets don’t match, but the
variables from the second and third do.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="c10.html#cb159-1" tabindex="-1"></a><span class="co"># Variables of first and second dataset don&#39;t match</span></span>
<span id="cb159-2"><a href="c10.html#cb159-2" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">names</span>(all_files[[<span class="dv">1</span>]]), <span class="fu">names</span>(all_files[[<span class="dv">2</span>]]))</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="c10.html#cb161-1" tabindex="-1"></a><span class="co"># Variables of third and second files match</span></span>
<span id="cb161-2"><a href="c10.html#cb161-2" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">names</span>(all_files[[<span class="dv">2</span>]]), <span class="fu">names</span>(all_files[[<span class="dv">3</span>]]))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>And we can check the number of columns by using <code>map()</code> and <code>ncol()</code>:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="c10.html#cb163-1" tabindex="-1"></a>all_files <span class="sc">%&gt;%</span> </span>
<span id="cb163-2"><a href="c10.html#cb163-2" tabindex="-1"></a>  <span class="co"># apply the function ncol to each element of all_files</span></span>
<span id="cb163-3"><a href="c10.html#cb163-3" tabindex="-1"></a>  <span class="fu">map</span>(ncol)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 31
## 
## [[2]]
## [1] 50
## 
## [[3]]
## [1] 50
## 
## [[4]]
## [1] 50
## 
## [[5]]
## [1] 50
## 
## [[6]]
## [1] 50</code></pre>
<p>We have just encountered an extremely common problem in education data!
Neither the number of columns nor the column names match.
This is a problem because—with different column names—we won’t be able to combine the datasets in a later step.
As we can see, when we try, <code>bind_rows()</code> returns a dataset with 100 columns, instead of the
expected 50.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="c10.html#cb165-1" tabindex="-1"></a><span class="co"># combining the datasets at this stage results in the incorrect </span></span>
<span id="cb165-2"><a href="c10.html#cb165-2" tabindex="-1"></a><span class="co"># number of columns</span></span>
<span id="cb165-3"><a href="c10.html#cb165-3" tabindex="-1"></a><span class="fu">bind_rows</span>(all_files) <span class="sc">%&gt;%</span> </span>
<span id="cb165-4"><a href="c10.html#cb165-4" tabindex="-1"></a>  <span class="co"># check the number of columns</span></span>
<span id="cb165-5"><a href="c10.html#cb165-5" tabindex="-1"></a>  <span class="fu">ncol</span>()</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p>We’ll correct this in the next section by selecting and renaming our variables,
but it’s good to notice this problem early in the process so you know to work on
it later.</p>
</div>
<div id="loading-the-data-from-dataedu" class="section level3 hasAnchor" number="10.6.6">
<h3><span class="header-section-number">10.6.6</span> Loading the data from {dataedu}<a href="c10.html#loading-the-data-from-dataedu" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After all of the hard work we’ve done above, it may seem painful to simply read in the final result! But,
if you were unable to download the files because you do not have Internet access (or for any other reason!), you can read in the <code>all_files</code> list of six data frames through the {dataedu} package with the following line of code:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="c10.html#cb167-1" tabindex="-1"></a>all_files <span class="ot">&lt;-</span> dataedu<span class="sc">::</span>all_files</span></code></pre></div>
</div>
</div>
<div id="process-data-2" class="section level2 hasAnchor" number="10.7">
<h2><span class="header-section-number">10.7</span> Process data<a href="c10.html#process-data-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Transforming your dataset before visualizing it and fitting models is critical.
It’s easier to write code when variable names are concise and informative. Many
functions in R, especially those in the {ggplot2} package, work best when
datasets are in a “tidy” format. It’s easier to do an analysis when you have
just the variables you need. Any unused variables can confuse your thought
process.</p>
<p>Let’s preview the steps we’ll be taking:</p>
<ol style="list-style-type: decimal">
<li>Fix the variable names in the 2016 data</li>
<li>Combine the datasets</li>
<li>Pick variables</li>
<li>Filter for the desired categories</li>
<li>Rename the variables</li>
<li>Standardize the state names</li>
<li>Transform the column formats from wide to long using <code>pivot_longer</code></li>
<li>Change the data types of variables</li>
<li>Explore <code>NA</code>’s</li>
</ol>
<p>In real life, data scientists don’t always know the cleaning steps until they
dive into the work. Learning what cleaning steps are needed requires
exploration, trial and error, and clarity on the analytic questions you want to
answer.</p>
<p>After a lot of exploring, we settled on these steps for this analysis. When you
do your own, you will find different things to transform. As you do more and
more data analysis, your instincts for what to transform will improve.</p>
<div id="fix-the-variable-names-in-the-2016-data" class="section level3 hasAnchor" number="10.7.1">
<h3><span class="header-section-number">10.7.1</span> Fix the variable names in the 2016 data<a href="c10.html#fix-the-variable-names-in-the-2016-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When we print the 2016 dataset, we notice that the variable names are incorrect.
Let’s verify that by looking at the first ten variable names of the 2016
dataset, which is the fifth element of <code>all_files</code>:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="c10.html#cb168-1" tabindex="-1"></a><span class="co"># Look at the first 10 column names of 2016</span></span>
<span id="cb168-2"><a href="c10.html#cb168-2" tabindex="-1"></a><span class="fu">names</span>(all_files[[<span class="dv">5</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;2016&quot;                    &quot;Alabama&quot;                
##  [3] &quot;Correctional Facilities&quot; &quot;All Disabilities&quot;       
##  [5] &quot;-...5&quot;                   &quot;-...6&quot;                  
##  [7] &quot;-...7&quot;                   &quot;-...8&quot;                  
##  [9] &quot;-...9&quot;                   &quot;-...10&quot;</code></pre>
<p>We want the variable names to be <code>Year</code> and <code>State Name</code>, not <code>2016</code> and
<code>Alabama</code>. But first, let’s go back and review how to get at the 2016 dataset
from <code>all_files</code>. We need to identify which element the 2016 dataset was in the
list. The order of the list elements was set all the way back when we fed
<code>map()</code> our list of filenames. If we look at <code>filenames</code> again, we see that its
fifth element is the 2016 dataset. Try looking at the first and fifth elements
of <code>filenames</code>:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="c10.html#cb170-1" tabindex="-1"></a>filenames[[<span class="dv">1</span>]]</span>
<span id="cb170-2"><a href="c10.html#cb170-2" tabindex="-1"></a>filenames[[<span class="dv">5</span>]]</span></code></pre></div>
<p>Once we know the 2016 dataset is the fifth element of our list, we can pluck it
out by using double brackets:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="c10.html#cb171-1" tabindex="-1"></a>all_files[[<span class="dv">5</span>]]</span></code></pre></div>
<pre><code>## # A tibble: 16,230 × 50
##    `2016` Alabama `Correctional Facilities`   `All Disabilities` `-...5` `-...6`
##    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;                       &lt;chr&gt;              &lt;chr&gt;   &lt;chr&gt;  
##  1 2016   Alabama Home                        All Disabilities   43      30     
##  2 2016   Alabama Homebound/Hospital          All Disabilities   -       -      
##  3 2016   Alabama Inside regular class 40% t… All Disabilities   -       -      
##  4 2016   Alabama Inside regular class 80% o… All Disabilities   -       -      
##  5 2016   Alabama Inside regular class less … All Disabilities   -       -      
##  6 2016   Alabama Parentally Placed in Priva… All Disabilities   -       -      
##  7 2016   Alabama Residential Facility, Age … All Disabilities   5       3      
##  8 2016   Alabama Residential Facility, Age … All Disabilities   -       -      
##  9 2016   Alabama Separate Class              All Disabilities   58      58     
## 10 2016   Alabama Separate School, Age 3-5    All Disabilities   11      20     
## # ℹ 16,220 more rows
## # ℹ 44 more variables: `-...7` &lt;chr&gt;, `-...8` &lt;chr&gt;, `-...9` &lt;chr&gt;,
## #   `-...10` &lt;chr&gt;, `-...11` &lt;chr&gt;, `-...12` &lt;chr&gt;, `-...13` &lt;chr&gt;,
## #   `-...14` &lt;chr&gt;, `-...15` &lt;chr&gt;, `-...16` &lt;chr&gt;, `-...17` &lt;chr&gt;,
## #   `-...18` &lt;chr&gt;, `-...19` &lt;chr&gt;, `0...20` &lt;chr&gt;, `0...21` &lt;chr&gt;,
## #   `0...22` &lt;chr&gt;, `0...23` &lt;chr&gt;, `0...24` &lt;chr&gt;, `0...25` &lt;chr&gt;,
## #   `0...26` &lt;chr&gt;, `0...27` &lt;chr&gt;, `0...28` &lt;chr&gt;, `1...29` &lt;chr&gt;, …</code></pre>
<p>We used <code>skip = 4</code> when we read in the datasets in the list. That worked for all
datasets except the fifth one. In that one, skipping four lines left out the
variable name row. To fix it, we’ll read the 2016 dataset again using
<code>read_csv()</code> and the fifth element of <code>filenames</code> but this time will use the
argument <code>skip = 3</code>. We’ll assign the newly read dataset to the fifth element of
the <code>all_files</code> list:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="c10.html#cb173-1" tabindex="-1"></a>all_files[[<span class="dv">5</span>]] <span class="ot">&lt;-</span></span>
<span id="cb173-2"><a href="c10.html#cb173-2" tabindex="-1"></a>  <span class="co"># Skip the first 3 lines instead of the first 4</span></span>
<span id="cb173-3"><a href="c10.html#cb173-3" tabindex="-1"></a>  <span class="fu">read_csv</span>(filenames[[<span class="dv">5</span>]], <span class="at">skip =</span> <span class="dv">3</span>)</span></code></pre></div>
<p>Try printing <code>all_files</code> now. You can confirm we fixed the problem by checking
that the variable names are correct.</p>
</div>
<div id="pick-variables" class="section level3 hasAnchor" number="10.7.2">
<h3><span class="header-section-number">10.7.2</span> Pick variables<a href="c10.html#pick-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we know all our datasets have the correct variable names, we simplify
our datasets by picking the variables we need. This is a good place to think
carefully about which variables to pick. This usually requires a fair amount of
trial and error, but here is what we found we needed:</p>
<ul>
<li>Our analytic questions are about gender, so let’s pick the gender variable</li>
<li>Later, we’ll need to filter our dataset by disability category and program
location so we’ll want <code>SEA Education Environment</code> and <code>SEA Disability Category</code></li>
<li>We want to make comparisons by state and reporting year, so we’ll also pick
<code>State Name</code> and <code>Year</code></li>
</ul>
<p>Combining <code>select()</code> and <code>contains()</code> is a convenient way to pick these
variables without writing a lot of code. Knowing that we want variables that
contain the acronym “SEA” and variables that contain “male” in their names, we
can pass those characters to <code>contains()</code>:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="c10.html#cb174-1" tabindex="-1"></a>all_files[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span></span>
<span id="cb174-2"><a href="c10.html#cb174-2" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb174-3"><a href="c10.html#cb174-3" tabindex="-1"></a>    Year,</span>
<span id="cb174-4"><a href="c10.html#cb174-4" tabindex="-1"></a>    <span class="fu">contains</span>(<span class="st">&quot;State&quot;</span>, <span class="at">ignore.case =</span> <span class="cn">FALSE</span>),</span>
<span id="cb174-5"><a href="c10.html#cb174-5" tabindex="-1"></a>    <span class="fu">contains</span>(<span class="st">&quot;SEA&quot;</span>, <span class="at">ignore.case =</span> <span class="cn">FALSE</span>),</span>
<span id="cb174-6"><a href="c10.html#cb174-6" tabindex="-1"></a>    <span class="fu">contains</span>(<span class="st">&quot;male&quot;</span>)</span>
<span id="cb174-7"><a href="c10.html#cb174-7" tabindex="-1"></a>  ) </span></code></pre></div>
<pre><code>## # A tibble: 16,230 × 8
##    Year  `State Name` `SEA Education Environment`         SEA Disability Categ…¹
##    &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;                               &lt;chr&gt;                 
##  1 2012  ALABAMA      Correctional Facilities             All Disabilities      
##  2 2012  ALABAMA      Home                                All Disabilities      
##  3 2012  ALABAMA      Homebound/Hospital                  All Disabilities      
##  4 2012  ALABAMA      Inside regular class 40% through 7… All Disabilities      
##  5 2012  ALABAMA      Inside regular class 80% or more o… All Disabilities      
##  6 2012  ALABAMA      Inside regular class less than 40%… All Disabilities      
##  7 2012  ALABAMA      Other Location Regular Early Child… All Disabilities      
##  8 2012  ALABAMA      Other Location Regular Early Child… All Disabilities      
##  9 2012  ALABAMA      Parentally Placed in Private Schoo… All Disabilities      
## 10 2012  ALABAMA      Residential Facility, Age 3-5       All Disabilities      
## # ℹ 16,220 more rows
## # ℹ abbreviated name: ¹​`SEA Disability Category`
## # ℹ 4 more variables: `Female Age 3 to 5` &lt;chr&gt;, `Male Age 3 to 5` &lt;chr&gt;,
## #   `Female Age 6 to 21` &lt;chr&gt;, `Male Age 6 to 21` &lt;chr&gt;</code></pre>
<p>That code chunk verifies that we got the variables we want, so now we will turn
the code chunk into a function called <code>pick_vars()</code>. We will then use <code>map()</code> to
apply <code>pick_vars()</code> to each dataset of our list, <code>all_files</code>, to the function.
In this function, we’ll use a special version of <code>select()</code> called
<code>select_at()</code>, which conveniently picks variables based on criteria we give it.
The argument <code>vars(Year, contains("State", ignore.case = FALSE), contains("SEA", ignore.case = FALSE), contains("male"))</code> tells R we want to keep any column
whose name has “State” in upper or lower case letters, has “SEA” in the title,
and has “male” in the title. This will result in a newly transformed <code>all_files</code>
list that contains six datasets, all with the desired variables.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="c10.html#cb176-1" tabindex="-1"></a><span class="co"># build the function</span></span>
<span id="cb176-2"><a href="c10.html#cb176-2" tabindex="-1"></a>pick_vars <span class="ot">&lt;-</span></span>
<span id="cb176-3"><a href="c10.html#cb176-3" tabindex="-1"></a>  <span class="cf">function</span>(df) {</span>
<span id="cb176-4"><a href="c10.html#cb176-4" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb176-5"><a href="c10.html#cb176-5" tabindex="-1"></a>      <span class="fu">select_at</span>(<span class="fu">vars</span>(</span>
<span id="cb176-6"><a href="c10.html#cb176-6" tabindex="-1"></a>        Year,</span>
<span id="cb176-7"><a href="c10.html#cb176-7" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;State&quot;</span>, <span class="at">ignore.case =</span> <span class="cn">FALSE</span>),</span>
<span id="cb176-8"><a href="c10.html#cb176-8" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;SEA&quot;</span>, <span class="at">ignore.case =</span> <span class="cn">FALSE</span>),</span>
<span id="cb176-9"><a href="c10.html#cb176-9" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;male&quot;</span>)</span>
<span id="cb176-10"><a href="c10.html#cb176-10" tabindex="-1"></a>      ))</span>
<span id="cb176-11"><a href="c10.html#cb176-11" tabindex="-1"></a>  }</span>
<span id="cb176-12"><a href="c10.html#cb176-12" tabindex="-1"></a></span>
<span id="cb176-13"><a href="c10.html#cb176-13" tabindex="-1"></a><span class="co"># use the function with `all_files`</span></span>
<span id="cb176-14"><a href="c10.html#cb176-14" tabindex="-1"></a>all_files <span class="ot">&lt;-</span></span>
<span id="cb176-15"><a href="c10.html#cb176-15" tabindex="-1"></a>  all_files <span class="sc">%&gt;%</span></span>
<span id="cb176-16"><a href="c10.html#cb176-16" tabindex="-1"></a>  <span class="fu">map</span>(pick_vars)</span></code></pre></div>
</div>
<div id="combine-six-datasets-into-one" class="section level3 hasAnchor" number="10.7.3">
<h3><span class="header-section-number">10.7.3</span> Combine six datasets into one<a href="c10.html#combine-six-datasets-into-one" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we’ll turn our attention to combining the datasets in our list <code>all_files</code>
into one. We’ll use <code>bind_rows()</code>, which combines datasets by adding each one to
the bottom of the one before it. The first step is to check and see if our
datasets have the same number of variables and the same variable names. When we
use <code>names()</code> on our list of newly changed datasets, we see that each dataset’s
variable names are the same:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="c10.html#cb177-1" tabindex="-1"></a><span class="co"># check variable names</span></span>
<span id="cb177-2"><a href="c10.html#cb177-2" tabindex="-1"></a>all_files <span class="sc">%&gt;%</span> </span>
<span id="cb177-3"><a href="c10.html#cb177-3" tabindex="-1"></a>  <span class="fu">map</span>(names)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[2]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[3]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[4]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[5]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[6]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;</code></pre>
<p>That means that we can combine all six datasets into one using <code>bind_rows()</code>.
We’ll call this newly combined dataset <code>child_counts</code>:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="c10.html#cb179-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb179-2"><a href="c10.html#cb179-2" tabindex="-1"></a>  all_files <span class="sc">%&gt;%</span></span>
<span id="cb179-3"><a href="c10.html#cb179-3" tabindex="-1"></a>  <span class="co"># combine all datasets in `all_files`</span></span>
<span id="cb179-4"><a href="c10.html#cb179-4" tabindex="-1"></a>  <span class="fu">bind_rows</span>()</span></code></pre></div>
<p>Since we know the following, we can conclude that all our rows
combined together correctly:</p>
<ol style="list-style-type: decimal">
<li>each of our six datasets had eight variables</li>
<li>our combined dataset also has eight variables,</li>
</ol>
<p>But, let’s use <code>str()</code> to verify:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="c10.html#cb180-1" tabindex="-1"></a><span class="fu">str</span>(child_counts)</span></code></pre></div>
<pre><code>## tibble [97,387 × 8] (S3: tbl_df/tbl/data.frame)
##  $ Year                     : chr [1:97387] &quot;2012&quot; &quot;2012&quot; &quot;2012&quot; &quot;2012&quot; ...
##  $ State Name               : chr [1:97387] &quot;ALABAMA&quot; &quot;ALABAMA&quot; &quot;ALABAMA&quot; &quot;ALABAMA&quot; ...
##  $ SEA Education Environment: chr [1:97387] &quot;Correctional Facilities&quot; &quot;Home&quot; &quot;Homebound/Hospital&quot; &quot;Inside regular class 40% through 79% of day&quot; ...
##  $ SEA Disability Category  : chr [1:97387] &quot;All Disabilities&quot; &quot;All Disabilities&quot; &quot;All Disabilities&quot; &quot;All Disabilities&quot; ...
##  $ Female Age 3 to 5        : chr [1:97387] &quot;-&quot; &quot;63&quot; &quot;-&quot; &quot;-&quot; ...
##  $ Male Age 3 to 5          : chr [1:97387] &quot;-&quot; &quot;174&quot; &quot;-&quot; &quot;-&quot; ...
##  $ Female Age 6 to 21       : chr [1:97387] &quot;4&quot; &quot;-&quot; &quot;104&quot; &quot;1590&quot; ...
##  $ Male Age 6 to 21         : chr [1:97387] &quot;121&quot; &quot;-&quot; &quot;130&quot; &quot;3076&quot; ...</code></pre>
</div>
<div id="importing-the-data-from-the-dataedu-package" class="section level3 hasAnchor" number="10.7.4">
<h3><span class="header-section-number">10.7.4</span> Importing the data from the {dataedu} package<a href="c10.html#importing-the-data-from-the-dataedu-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you would like to load this processed dataset (<code>child_counts</code>), then
you can run the following code to load it directly from the {dataedu} package:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="c10.html#cb182-1" tabindex="-1"></a>longitudinal_data <span class="ot">&lt;-</span> dataedu<span class="sc">::</span>child_counts</span></code></pre></div>
</div>
<div id="filter-for-the-desired-disabilities-and-age-groups" class="section level3 hasAnchor" number="10.7.5">
<h3><span class="header-section-number">10.7.5</span> Filter for the desired disabilities and age groups<a href="c10.html#filter-for-the-desired-disabilities-and-age-groups" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to explore gender related variables, but our dataset has additional
aggregate data for other subgroups. For example, we can use <code>count()</code> to explore
all the different disability groups in the dataset. Here’s the number of times
an <code>SEA Disability Category</code> appears in the dataset:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="c10.html#cb183-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb183-2"><a href="c10.html#cb183-2" tabindex="-1"></a>  <span class="co"># count number of times the category appears in the dataset</span></span>
<span id="cb183-3"><a href="c10.html#cb183-3" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">SEA Disability Category</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>## # A tibble: 16 × 2
##    `SEA Disability Category`                                                   n
##    &lt;chr&gt;                                                                   &lt;int&gt;
##  1 All Disabilities                                                         6954
##  2 Autism                                                                   6954
##  3 Deaf-blindness                                                           6954
##  4 Developmental delay                                                      4636
##  5 Developmental delay (valid only for children ages 3-9 when defined by …  2318
##  6 Emotional disturbance                                                    6954
##  7 Hearing impairment                                                       6954
##  8 Intellectual disability                                                  6954
##  9 Multiple disabilities                                                    6954
## 10 Orthopedic impairment                                                    6954
## 11 Other health impairment                                                  6954
## 12 Specific learning disability                                             6954
## 13 Speech or language impairment                                            6954
## 14 Traumatic brain injury                                                   6954
## 15 Visual impairment                                                        6954
## 16 &lt;NA&gt;                                                                       31</code></pre>
<p>Since we will be visualizing and modeling gender variables for all students in
the dataset, we’ll filter out all subgroups except “All Disabilities” and the
age totals:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="c10.html#cb185-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb185-2"><a href="c10.html#cb185-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb185-3"><a href="c10.html#cb185-3" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb185-4"><a href="c10.html#cb185-4" tabindex="-1"></a>    <span class="co"># filter all but the All Disabilities category</span></span>
<span id="cb185-5"><a href="c10.html#cb185-5" tabindex="-1"></a>    <span class="st">`</span><span class="at">SEA Disability Category</span><span class="st">`</span> <span class="sc">==</span> <span class="st">&quot;All Disabilities&quot;</span>,</span>
<span id="cb185-6"><a href="c10.html#cb185-6" tabindex="-1"></a>    <span class="co"># filter all but the age totals</span></span>
<span id="cb185-7"><a href="c10.html#cb185-7" tabindex="-1"></a>    <span class="st">`</span><span class="at">SEA Education Environment</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Total, Age 3-5&quot;</span>, <span class="st">&quot;Total, Age 6-21&quot;</span>)</span>
<span id="cb185-8"><a href="c10.html#cb185-8" tabindex="-1"></a>  ) </span></code></pre></div>
</div>
<div id="rename-the-variables" class="section level3 hasAnchor" number="10.7.6">
<h3><span class="header-section-number">10.7.6</span> Rename the variables<a href="c10.html#rename-the-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the next section we’ll prepare the dataset for visualization and modeling by
“tidying” it. When we write code to transform datasets, we’ll be typing the
column names a lot, so it’s useful to change them to ones with more convenient
names.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="c10.html#cb186-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb186-2"><a href="c10.html#cb186-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb186-3"><a href="c10.html#cb186-3" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb186-4"><a href="c10.html#cb186-4" tabindex="-1"></a>    <span class="co"># change these columns to more convenient names</span></span>
<span id="cb186-5"><a href="c10.html#cb186-5" tabindex="-1"></a>    <span class="at">year =</span> Year,</span>
<span id="cb186-6"><a href="c10.html#cb186-6" tabindex="-1"></a>    <span class="at">state =</span> <span class="st">&quot;State Name&quot;</span>,</span>
<span id="cb186-7"><a href="c10.html#cb186-7" tabindex="-1"></a>    <span class="at">age =</span> <span class="st">&quot;SEA Education Environment&quot;</span>,</span>
<span id="cb186-8"><a href="c10.html#cb186-8" tabindex="-1"></a>    <span class="at">disability =</span> <span class="st">&quot;SEA Disability Category&quot;</span>,</span>
<span id="cb186-9"><a href="c10.html#cb186-9" tabindex="-1"></a>    <span class="at">f_3_5 =</span> <span class="st">&quot;Female Age 3 to 5&quot;</span>,</span>
<span id="cb186-10"><a href="c10.html#cb186-10" tabindex="-1"></a>    <span class="at">m_3_5 =</span> <span class="st">&quot;Male Age 3 to 5&quot;</span>,</span>
<span id="cb186-11"><a href="c10.html#cb186-11" tabindex="-1"></a>    <span class="at">f_6_21 =</span> <span class="st">&quot;Female Age 6 to 21&quot;</span>,</span>
<span id="cb186-12"><a href="c10.html#cb186-12" tabindex="-1"></a>    <span class="at">m_6_21 =</span> <span class="st">&quot;Male Age 6 to 21&quot;</span></span>
<span id="cb186-13"><a href="c10.html#cb186-13" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="clean-state-names" class="section level3 hasAnchor" number="10.7.7">
<h3><span class="header-section-number">10.7.7</span> Clean state names<a href="c10.html#clean-state-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You might have noticed that some state names in our dataset are in uppercase
letters, and some are in lowercase letters:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="c10.html#cb187-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb187-2"><a href="c10.html#cb187-2" tabindex="-1"></a>  <span class="fu">count</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb187-3"><a href="c10.html#cb187-3" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   state              n
##   &lt;chr&gt;          &lt;int&gt;
## 1 ALABAMA            4
## 2 ALASKA             4
## 3 AMERICAN SAMOA     4
## 4 ARIZONA            4
## 5 ARKANSAS           4
## 6 Alabama            8</code></pre>
<p>If we leave it like this, R will treat state values like “CALIFORNIA” and
“California” as two different states. We can use <code>mutate</code> and <code>tolower</code> to
transform all the state names to lowercase letters.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="c10.html#cb189-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb189-2"><a href="c10.html#cb189-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb189-3"><a href="c10.html#cb189-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">tolower</span>(state)) </span></code></pre></div>
</div>
<div id="tidy-the-dataset" class="section level3 hasAnchor" number="10.7.8">
<h3><span class="header-section-number">10.7.8</span> Tidy the dataset<a href="c10.html#tidy-the-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Visualizing and modeling our data will be much easier if our dataset is in a
“tidy” format. In <em>Tidy Data</em> <span class="citation">(<a href="references.html#ref-wickham2014">Wickham, 2014</a>)</span>, defines
tidy datasets as possessing the following characteristics:</p>
<blockquote>
<ol style="list-style-type: decimal">
<li>Each variable forms a column</li>
<li>Each observation forms a row</li>
<li>Each type of observational unit forms a table</li>
</ol>
</blockquote>
<p><em>A note on the gender variable in this dataset</em></p>
<p>This dataset uses a binary approach to data collection about gender. Students
are described as either male or female. The need for an inclusive approach to
documenting gender identity is discussed in a paper by <span class="citation"><em>Reachable</em> (<a href="references.html#ref-park2016">2016</a>)</span> of The Williams
Institute at UCLA.</p>
<p>The gender variables in our dataset are spread across four columns, with each
one representing a combination of gender and age range. We can use
<code>pivot_longer()</code> to bring the gender variable into one column. In this
transformation, we create two new columns: a <code>gender</code> column and a <code>total</code>
column. The <code>total</code> column will contain the number of students in each row’s
gender and age category.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="c10.html#cb190-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb190-2"><a href="c10.html#cb190-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb190-3"><a href="c10.html#cb190-3" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> f_3_5<span class="sc">:</span>m_6_21, </span>
<span id="cb190-4"><a href="c10.html#cb190-4" tabindex="-1"></a>                 <span class="at">names_to =</span> <span class="st">&quot;gender&quot;</span>, </span>
<span id="cb190-5"><a href="c10.html#cb190-5" tabindex="-1"></a>                 <span class="at">values_to =</span> <span class="st">&quot;total&quot;</span>)</span></code></pre></div>
<p>To make the values of the <code>gender</code> column more intuitive, we’ll use
<code>case_when()</code> to transform the values to either “f” or “m”:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="c10.html#cb191-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span> </span>
<span id="cb191-2"><a href="c10.html#cb191-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb191-3"><a href="c10.html#cb191-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb191-4"><a href="c10.html#cb191-4" tabindex="-1"></a>    <span class="at">gender =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-5"><a href="c10.html#cb191-5" tabindex="-1"></a>      gender <span class="sc">==</span> <span class="st">&quot;f_3_5&quot;</span> <span class="sc">~</span> <span class="st">&quot;f&quot;</span>,</span>
<span id="cb191-6"><a href="c10.html#cb191-6" tabindex="-1"></a>      gender <span class="sc">==</span> <span class="st">&quot;m_3_5&quot;</span> <span class="sc">~</span> <span class="st">&quot;m&quot;</span>,</span>
<span id="cb191-7"><a href="c10.html#cb191-7" tabindex="-1"></a>      gender <span class="sc">==</span> <span class="st">&quot;f_6_21&quot;</span> <span class="sc">~</span> <span class="st">&quot;f&quot;</span>,</span>
<span id="cb191-8"><a href="c10.html#cb191-8" tabindex="-1"></a>      gender <span class="sc">==</span> <span class="st">&quot;m_6_21&quot;</span> <span class="sc">~</span> <span class="st">&quot;m&quot;</span>,</span>
<span id="cb191-9"><a href="c10.html#cb191-9" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(gender)</span>
<span id="cb191-10"><a href="c10.html#cb191-10" tabindex="-1"></a>    )</span>
<span id="cb191-11"><a href="c10.html#cb191-11" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="convert-data-types" class="section level3 hasAnchor" number="10.7.9">
<h3><span class="header-section-number">10.7.9</span> Convert data types<a href="c10.html#convert-data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The values in the <code>total</code> column represent the number of students from a
specific year, state, gender, and age group. We know from the <code>chr</code> under their
variable names that R is treating these values like characters instead of
numbers. While R does a decent job of treating numbers like numbers when needed,
it’s much safer to prepare the dataset by changing these character columns to
numeric columns. We’ll use <code>mutate()</code> to change the count columns.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="c10.html#cb192-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb192-2"><a href="c10.html#cb192-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb192-3"><a href="c10.html#cb192-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total =</span> <span class="fu">as.numeric</span>(total))</span></code></pre></div>
<pre><code>## Warning: There was 1 warning in `mutate()`.
## ℹ In argument: `total = as.numeric(total)`.
## Caused by warning:
## ! NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="c10.html#cb194-1" tabindex="-1"></a>child_counts</span></code></pre></div>
<pre><code>## # A tibble: 2,928 × 6
##    year  state   age             disability       gender total
##    &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;  &lt;dbl&gt;
##  1 2012  alabama Total, Age 3-5  All Disabilities f       2228
##  2 2012  alabama Total, Age 3-5  All Disabilities m       5116
##  3 2012  alabama Total, Age 3-5  All Disabilities f         NA
##  4 2012  alabama Total, Age 3-5  All Disabilities m         NA
##  5 2012  alabama Total, Age 6-21 All Disabilities f         NA
##  6 2012  alabama Total, Age 6-21 All Disabilities m         NA
##  7 2012  alabama Total, Age 6-21 All Disabilities f      23649
##  8 2012  alabama Total, Age 6-21 All Disabilities m      48712
##  9 2012  alaska  Total, Age 3-5  All Disabilities f        676
## 10 2012  alaska  Total, Age 3-5  All Disabilities m       1440
## # ℹ 2,918 more rows</code></pre>
<p>Converting these count columns from character classes to number classes resulted
in two changes. First, the <code>chr</code> under these variable names has now changed to
<code>dbl</code>, short for “double-precision”. This lets us know that R recognizes these
values as numbers with decimal points. Second, the blank values changed to <code>NA</code>.
When R sees a character class value like <code>"4"</code>, it knows to change it to numeric
class <code>4</code>. But there is no obvious number represented by a value like <code>""</code> or
<code>-</code>, so it changes it to <code>NA</code>:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="c10.html#cb196-1" tabindex="-1"></a><span class="co"># Convert a character to a number </span></span>
<span id="cb196-2"><a href="c10.html#cb196-2" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="st">&quot;4&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="c10.html#cb198-1" tabindex="-1"></a><span class="co"># Convert a blank character or a symbol to a number</span></span>
<span id="cb198-2"><a href="c10.html#cb198-2" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="c10.html#cb200-1" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="st">&quot;-&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA</code></pre>
<p>Similarly, the variable <code>year</code> needs to be changed from the character format to
the date format. Doing so will make sure R treats this variable like a point in
time when we plot our dataset. The package {lubridate} has a handy function
called <code>ymd</code> that can help us. We just have to use the <code>truncated</code> argument to
let R know we don’t have a month and date to convert.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="c10.html#cb203-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb203-2"><a href="c10.html#cb203-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb203-3"><a href="c10.html#cb203-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">ymd</span>(year, <span class="at">truncated =</span> <span class="dv">2</span>))</span></code></pre></div>
</div>
<div id="explore-and-address-nas" class="section level3 hasAnchor" number="10.7.10">
<h3><span class="header-section-number">10.7.10</span> Explore and address NAs<a href="c10.html#explore-and-address-nas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You’ll notice that some rows in the <code>total</code> column contain an <code>NA</code>. When we used
<code>pivot_longer()</code> to create a <code>gender</code> column, R created unique rows for every
year, state, age, disability, and gender combination. Since the original dataset
had both gender and age range stored in a column like <code>Female Age 3 to 5</code>, R
made rows where the <code>total</code> value is <code>NA</code> . For example, there is no student count
for the <code>age</code> value “Total, Age 3–5” that also has the <code>gender</code> value for female
students who were age 6–21. You can see that more clearly by sorting the dataset
by year, state, and gender.</p>
<p>In our Foundational Skills chapter, we introduced a {dplyr} function called
<code>arrange()</code> to sort the rows of a dataset by the values in a column. Let’s use
<code>arrange()</code> here to sort the dataset by the <code>year</code>, <code>state</code> and <code>gender</code>
columns. When you pass <code>arrange()</code> a variable, it will sort by the order of the
values in that variable. If you pass it multiple variables, <code>arrange()</code> will
sort by the first variable, then by the second, and so on. Let’s see what it
does on <code>child_counts</code> when we pass it the <code>year</code>, <code>state</code>, and <code>gender</code>
variables:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="c10.html#cb204-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb204-2"><a href="c10.html#cb204-2" tabindex="-1"></a>  <span class="fu">arrange</span>(year, state, gender)</span></code></pre></div>
<pre><code>## # A tibble: 2,928 × 6
##    year       state   age             disability       gender total
##    &lt;date&gt;     &lt;chr&gt;   &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;  &lt;dbl&gt;
##  1 2012-01-01 alabama Total, Age 3-5  All Disabilities f       2228
##  2 2012-01-01 alabama Total, Age 3-5  All Disabilities f         NA
##  3 2012-01-01 alabama Total, Age 6-21 All Disabilities f         NA
##  4 2012-01-01 alabama Total, Age 6-21 All Disabilities f      23649
##  5 2012-01-01 alabama Total, Age 3-5  All Disabilities m       5116
##  6 2012-01-01 alabama Total, Age 3-5  All Disabilities m         NA
##  7 2012-01-01 alabama Total, Age 6-21 All Disabilities m         NA
##  8 2012-01-01 alabama Total, Age 6-21 All Disabilities m      48712
##  9 2012-01-01 alaska  Total, Age 3-5  All Disabilities f        676
## 10 2012-01-01 alaska  Total, Age 3-5  All Disabilities f         NA
## # ℹ 2,918 more rows</code></pre>
<p>We can simplify our dataset by removing the rows with <code>NA</code>, leaving us with one
row for each category:</p>
<ul>
<li>females age 3–5</li>
<li>females age 6–21</li>
<li>males age 3–5</li>
<li>males age 6–21</li>
</ul>
<p>Each of these categories will be associated with a state and reporting year:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="c10.html#cb206-1" tabindex="-1"></a>child_counts <span class="ot">&lt;-</span></span>
<span id="cb206-2"><a href="c10.html#cb206-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb206-3"><a href="c10.html#cb206-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(total)) </span></code></pre></div>
<p>We can verify we have the categories we want by sorting again:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="c10.html#cb207-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb207-2"><a href="c10.html#cb207-2" tabindex="-1"></a>  <span class="fu">arrange</span>(year, state, gender)</span></code></pre></div>
<pre><code>## # A tibble: 1,390 × 6
##    year       state          age             disability       gender total
##    &lt;date&gt;     &lt;chr&gt;          &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;  &lt;dbl&gt;
##  1 2012-01-01 alabama        Total, Age 3-5  All Disabilities f       2228
##  2 2012-01-01 alabama        Total, Age 6-21 All Disabilities f      23649
##  3 2012-01-01 alabama        Total, Age 3-5  All Disabilities m       5116
##  4 2012-01-01 alabama        Total, Age 6-21 All Disabilities m      48712
##  5 2012-01-01 alaska         Total, Age 3-5  All Disabilities f        676
##  6 2012-01-01 alaska         Total, Age 6-21 All Disabilities f       5307
##  7 2012-01-01 alaska         Total, Age 3-5  All Disabilities m       1440
##  8 2012-01-01 alaska         Total, Age 6-21 All Disabilities m      10536
##  9 2012-01-01 american samoa Total, Age 3-5  All Disabilities f         45
## 10 2012-01-01 american samoa Total, Age 6-21 All Disabilities f        208
## # ℹ 1,380 more rows</code></pre>
</div>
</div>
<div id="analysis-3" class="section level2 hasAnchor" number="10.8">
<h2><span class="header-section-number">10.8</span> Analysis<a href="c10.html#analysis-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the last section we focused on importing our dataset. In this section, we
will ask, “How have child counts changed over time?” First, we’ll use
visualization to explore the number of students in special education over time.
In particular, we’ll compare the count of male and female students. Next, we’ll
use what we learn from our visualizations to quantify any differences that we
see.</p>
<div id="visualize-the-dataset" class="section level3 hasAnchor" number="10.8.1">
<h3><span class="header-section-number">10.8.1</span> Visualize the dataset<a href="c10.html#visualize-the-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Showing this many states in a plot can be overwhelming, so to start we’ll make a
subset of the dataset. We can use a function in the {dplyr} package called
<code>top_n()</code> to help us learn which states have the highest mean count of students
with disabilities:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="c10.html#cb209-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb209-2"><a href="c10.html#cb209-2" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb209-3"><a href="c10.html#cb209-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_count =</span> <span class="fu">mean</span>(total)) <span class="sc">%&gt;%</span></span>
<span id="cb209-4"><a href="c10.html#cb209-4" tabindex="-1"></a>  <span class="co"># which six states have the highest mean count of students with disabilities</span></span>
<span id="cb209-5"><a href="c10.html#cb209-5" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">6</span>, mean_count)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   state                                            mean_count
##   &lt;chr&gt;                                                 &lt;dbl&gt;
## 1 california                                          180879.
## 2 florida                                              92447.
## 3 new york                                            121751.
## 4 pennsylvania                                         76080.
## 5 texas                                               115593.
## 6 us, outlying areas, and freely associated states   1671931.</code></pre>
<p>These six states have the highest mean count of students in special education
over the six years we are examining. For reasons we will see in a later
visualization, we are going to exclude outlying areas and freely associated
states. That leaves us with five states: California, Florida, New York,
Pennsylvania, and Texas. We can remove all other states but these by using
<code>filter()</code>. We’ll call this new dataset <code>high_count</code>:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="c10.html#cb211-1" tabindex="-1"></a>high_count <span class="ot">&lt;-</span></span>
<span id="cb211-2"><a href="c10.html#cb211-2" tabindex="-1"></a>  child_counts <span class="sc">%&gt;%</span></span>
<span id="cb211-3"><a href="c10.html#cb211-3" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;california&quot;</span>, <span class="st">&quot;florida&quot;</span>, <span class="st">&quot;new york&quot;</span>, <span class="st">&quot;pennsylvania&quot;</span>, <span class="st">&quot;texas&quot;</span>))</span></code></pre></div>
<p>Now we can use <code>high_count</code> to do some initial exploration. Our analysis is
about comparing counts of male and female students in special education, but
visualization is also a great way to explore related curiosities. You may
surprise yourself with what you find when visualizing your datasets. You might
come up with more interesting hypotheses, find that your initial hypothesis
requires more data transformation, or find interesting subsets of the data—we
saw a little of that in the surprisingly high <code>mean_count</code> of freely associated
states in the <code>state</code> column. Let your curiosity and intuition drive this part
of the analysis. It’s one of the activities that makes data analysis a creative
process.</p>
<p>In that spirit, we’ll start by visualizing specific genders and age groups. Feel
free to try these, but also try the other student groups for practice and more
exploration.</p>
<p>Start by copying and running this code in your console to see what it does:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="c10.html#cb212-1" tabindex="-1"></a>high_count <span class="sc">%&gt;%</span></span>
<span id="cb212-2"><a href="c10.html#cb212-2" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">&quot;f&quot;</span>, age <span class="sc">==</span> <span class="st">&quot;Total, Age 6-21&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb212-3"><a href="c10.html#cb212-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> total, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb212-4"><a href="c10.html#cb212-4" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb212-5"><a href="c10.html#cb212-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Count of Female Students in Special Education Over Time&quot;</span>,</span>
<span id="cb212-6"><a href="c10.html#cb212-6" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Ages 6-21&quot;</span>) <span class="sc">+</span></span>
<span id="cb212-7"><a href="c10.html#cb212-7" tabindex="-1"></a>  <span class="fu">scale_color_dataedu</span>() <span class="sc">+</span></span>
<span id="cb212-8"><a href="c10.html#cb212-8" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-1"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-1-1.png" alt="Count of Female Students in Special Education Over Time" width="100%" />
<p class="caption">
Figure 10.1: Count of Female Students in Special Education Over Time
</p>
</div>
<p>That gives us a plot that has the years on the <em>x</em>-axis and a count of female
students on the <em>y</em>-axis. Each line takes a different color based on the state it
represents.</p>
<p>Let’s look at that closer: we used <code>filter()</code> to subset our dataset for students
who are female and ages 6 to 21. We used <code>aes</code> to connect visual elements of our
plot to our data. We connected the <em>x</em>-axis to <code>year</code>, the <em>y</em>-axis to <code>total</code>, and
the color of the line to <code>state</code>.</p>
<p>It’s worth calling out one more thing; since it’s a technique we’ll be using as
we explore further. Note here that, instead of storing our new dataset in a new
variable, we filter the dataset then use the pipe operator <code>%&gt;%</code> to feed it to
{ggplot2}. Since we’re exploring freely, we don’t need to create a lot of new
variables we probably won’t need later.</p>
<p>We can also try the same plot, but subsetting for male students instead. We can
use the same code we used for the last plot, but filter for the value “m” in the
<code>gender</code> field:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="c10.html#cb213-1" tabindex="-1"></a>high_count <span class="sc">%&gt;%</span></span>
<span id="cb213-2"><a href="c10.html#cb213-2" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">&quot;m&quot;</span>, age <span class="sc">==</span> <span class="st">&quot;Total, Age 6-21&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb213-3"><a href="c10.html#cb213-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> total, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb213-4"><a href="c10.html#cb213-4" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb213-5"><a href="c10.html#cb213-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Count of Male Students in Special Education Over Time&quot;</span>,</span>
<span id="cb213-6"><a href="c10.html#cb213-6" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Ages 6-21&quot;</span>) <span class="sc">+</span></span>
<span id="cb213-7"><a href="c10.html#cb213-7" tabindex="-1"></a>  <span class="fu">scale_color_dataedu</span>() <span class="sc">+</span></span>
<span id="cb213-8"><a href="c10.html#cb213-8" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-2"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-2-1.png" alt="Count of Male Students in Special Education Over Time" width="100%" />
<p class="caption">
Figure 10.2: Count of Male Students in Special Education Over Time
</p>
</div>
<p>We’ve looked at each gender separately. What do these lines look like if we
visualized the total amount of students each year per state? To do that, we’ll
need to add both gender values together and both age group values together.
We’ll do this using a very common combination of functions: <code>group_by()</code> and
<code>summarize()</code>.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="c10.html#cb214-1" tabindex="-1"></a>high_count <span class="sc">%&gt;%</span></span>
<span id="cb214-2"><a href="c10.html#cb214-2" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">%&gt;%</span></span>
<span id="cb214-3"><a href="c10.html#cb214-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">sum</span>(total)) <span class="sc">%&gt;%</span></span>
<span id="cb214-4"><a href="c10.html#cb214-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb214-5"><a href="c10.html#cb214-5" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb214-6"><a href="c10.html#cb214-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Total Count of Students in Special Education Over Time&quot;</span>,</span>
<span id="cb214-7"><a href="c10.html#cb214-7" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Ages 3-21&quot;</span>) <span class="sc">+</span></span>
<span id="cb214-8"><a href="c10.html#cb214-8" tabindex="-1"></a>  <span class="fu">scale_color_dataedu</span>() <span class="sc">+</span></span>
<span id="cb214-9"><a href="c10.html#cb214-9" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-3"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-3-1.png" alt="Total Count of Students in Special Education Over Time" width="100%" />
<p class="caption">
Figure 10.3: Total Count of Students in Special Education Over Time
</p>
</div>
<p>So far we’ve looked at a few ways to count students over time. In each plot, we
see that while counts have grown overall for all states, each state has
different sized populations. Let’s see if we can summarize that difference by
looking at the median student count for each state over the years:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="c10.html#cb215-1" tabindex="-1"></a>high_count <span class="sc">%&gt;%</span></span>
<span id="cb215-2"><a href="c10.html#cb215-2" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">%&gt;%</span></span>
<span id="cb215-3"><a href="c10.html#cb215-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">sum</span>(total)) <span class="sc">%&gt;%</span></span>
<span id="cb215-4"><a href="c10.html#cb215-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> state, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb215-5"><a href="c10.html#cb215-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="fu">dataedu_colors</span>(<span class="st">&quot;yellow&quot;</span>)) <span class="sc">+</span></span>
<span id="cb215-6"><a href="c10.html#cb215-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Median Students with Disabilities Count&quot;</span>,</span>
<span id="cb215-7"><a href="c10.html#cb215-7" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;All ages and genders, 2012-2017&quot;</span>) <span class="sc">+</span></span>
<span id="cb215-8"><a href="c10.html#cb215-8" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>() </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-4"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-4-1.png" alt="Median Students with Disabilities Count" width="100%" />
<p class="caption">
Figure 10.4: Median Students with Disabilities Count
</p>
</div>
<p>The boxplots show us what we might have expected from our <code>freqpoly</code> plots
before it. The highest median student count over time is California and the
lowest is Pennsylvania.</p>
<p>What have we learned about our data so far? The five states in the US with the
highest total student counts (not including outlying areas and freely associated
states) do not have similar counts to each other. The student counts for each
state also appear to have grown over time.</p>
<p>But how can we start comparing the male student count to the female student
count? One way is to use a “<em>ratio</em>”, the number of times the first number contains
the second. For example, if Variable A is equal to 14, and Variable B is equal to 7,
the ratio between Variable A and Variable B is 2.00, indicating that the first number
contains twice the number of the second.</p>
<p>We can use the count of male students in each state and divide it by the count
of each female student. The result is the number of times male students are in
special education more or less than the female students in the same state and
year. Our coding strategy will be to:</p>
<ul>
<li>Use <code>pivot_wider()</code> to create separate columns for male and female students.</li>
<li>Use <code>mutate()</code> to create a new variable called <code>ratio</code>. The values in this
column will be the result of dividing the count of male students by the
count of female students.</li>
</ul>
<p>Note here that we can also accomplish this comparison by dividing the number of
female students by the number of male students. In this case, the result would
be the number of times female students are in special education more or less
than male students.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="c10.html#cb216-1" tabindex="-1"></a>high_count <span class="sc">%&gt;%</span></span>
<span id="cb216-2"><a href="c10.html#cb216-2" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state, gender) <span class="sc">%&gt;%</span></span>
<span id="cb216-3"><a href="c10.html#cb216-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">sum</span>(total)) <span class="sc">%&gt;%</span></span>
<span id="cb216-4"><a href="c10.html#cb216-4" tabindex="-1"></a>  <span class="co"># Create new columns for male and female student counts</span></span>
<span id="cb216-5"><a href="c10.html#cb216-5" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> gender, </span>
<span id="cb216-6"><a href="c10.html#cb216-6" tabindex="-1"></a>              <span class="at">values_from =</span> total) <span class="sc">%&gt;%</span> </span>
<span id="cb216-7"><a href="c10.html#cb216-7" tabindex="-1"></a>  <span class="co"># Create a new ratio column</span></span>
<span id="cb216-8"><a href="c10.html#cb216-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> m <span class="sc">/</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb216-9"><a href="c10.html#cb216-9" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> ratio, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb216-10"><a href="c10.html#cb216-10" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb216-11"><a href="c10.html#cb216-11" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">2.5</span>)) <span class="sc">+</span></span>
<span id="cb216-12"><a href="c10.html#cb216-12" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Male Student to Female Student Ratio Over Time&quot;</span>,</span>
<span id="cb216-13"><a href="c10.html#cb216-13" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Ages 6-21&quot;</span>) <span class="sc">+</span></span>
<span id="cb216-14"><a href="c10.html#cb216-14" tabindex="-1"></a>  <span class="fu">scale_color_dataedu</span>() <span class="sc">+</span></span>
<span id="cb216-15"><a href="c10.html#cb216-15" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-5"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-5-1.png" alt="Male Student to Female Student Ratio Over Time" width="100%" />
<p class="caption">
Figure 10.5: Male Student to Female Student Ratio Over Time
</p>
</div>
<p>By visually inspecting, we can hypothesize that there was no significant change
in the male to female ratio between the years 2012 and 2017. But very often we
want to understand the underlying properties of our education dataset. We can do
this by quantifying the relationship between two variables. In the next section,
we’ll explore ways to quantify the relationship between male student counts and
female student counts.</p>
</div>
<div id="model-the-dataset" class="section level3 hasAnchor" number="10.8.2">
<h3><span class="header-section-number">10.8.2</span> Model the dataset<a href="c10.html#model-the-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you visualize your datasets, you are exploring possible relationships
between variables. But sometimes visualizations can be misleading because of the
way we perceive graphics. In his book <em>Data Visualization: A Practical Introduction</em>, <span class="citation">Healy (<a href="references.html#ref-healy2019">2019</a>)</span> teaches us that</p>
<blockquote>
<p>Visualizations encode numbers in lines, shapes, and colors. That means that
our interpretation of these encodings is partly conditional on how we perceive
geometric shapes and relationships generally.</p>
</blockquote>
<p>What are some ways we can combat these errors of perception and at the same time
draw substantive conclusions about our education dataset? When you spot a
possible relationship between variables, the relationship between female and
male counts for example, you’ll want to quantify it by fitting a
statistical model. Practically speaking, this means you are selecting a
distribution that represents your dataset reasonably well. This distribution
will help you quantify and predict relationships between variables. This is an
important step in the analytic process because it acts as a check on what you
saw in your exploratory visualizations.</p>
<p>In this example, we’ll follow our intuition about the relationship between male
and female student counts in our special education dataset. In particular, we’ll
test the hypothesis that this ratio has decreased over the years. Fitting a
linear regression model that estimates the year as a predictor of the male to
female ratio will help us do just that.</p>
<p>In the context of modeling the dataset, we note that there are techniques available (other than a linear regression model)
for longitudinal analyses that are helpful for accounting for the way that individual
data points over time can be modeled as grouped within units (such as individual students).
Such approaches, like those involving structural equation models <span class="citation">(<a href="references.html#ref-grimm2016growth">Grimm et al., 2016</a>)</span>
and multi-level models <span class="citation">(<a href="references.html#ref-west2014linear">West et al., 2014</a>)</span>, are especially helpful for analyzing patterns of change over time—and what predicts those patterns. Both of the references cited above include R code for carrying out such analyses.</p>
<div id="do-we-have-enough-information-for-our-model" class="section level4 hasAnchor" number="10.8.2.1">
<h4><span class="header-section-number">10.8.2.1</span> Do we have enough information for our model?<a href="c10.html#do-we-have-enough-information-for-our-model" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>At the start of this section, we chose to exclude outlying areas and freely
associated states. This visualization suggests that there are some states that
have a child count so high it leaves a gap in the <em>x</em>-axis values. This can be
problematic when we try to interpret our model later. Here’s a plot of female
students compared to male students. Note that the relationship appears linear,
but there is a large gap in the distribution of female student counts somewhere
between the values of 250,000 and 1,750,000:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="c10.html#cb217-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb217-2"><a href="c10.html#cb217-2" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">==</span> <span class="st">&quot;Total, Age 6-21&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb217-3"><a href="c10.html#cb217-3" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> gender, </span>
<span id="cb217-4"><a href="c10.html#cb217-4" tabindex="-1"></a>              <span class="at">values_from =</span> total) <span class="sc">%&gt;%</span></span>
<span id="cb217-5"><a href="c10.html#cb217-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> f, <span class="at">y =</span> m)) <span class="sc">+</span></span>
<span id="cb217-6"><a href="c10.html#cb217-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">color =</span> <span class="fu">dataedu_colors</span>(<span class="st">&quot;green&quot;</span>)) <span class="sc">+</span></span>
<span id="cb217-7"><a href="c10.html#cb217-7" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb217-8"><a href="c10.html#cb217-8" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb217-9"><a href="c10.html#cb217-9" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Comparison of Female Students to Male Students in Special Education&quot;</span>,</span>
<span id="cb217-10"><a href="c10.html#cb217-10" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Counts of students in each state, ages 6-21&quot;</span>,</span>
<span id="cb217-11"><a href="c10.html#cb217-11" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Female students&quot;</span>,</span>
<span id="cb217-12"><a href="c10.html#cb217-12" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Male students&quot;</span>,</span>
<span id="cb217-13"><a href="c10.html#cb217-13" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data: US Dept of Education&quot;</span></span>
<span id="cb217-14"><a href="c10.html#cb217-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb217-15"><a href="c10.html#cb217-15" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-6"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-6-1.png" alt="Comparison of Female Students to Male Students in Special Education" width="100%" />
<p class="caption">
Figure 10.6: Comparison of Female Students to Male Students in Special Education
</p>
</div>
<p>If you think of each potential point on the linear regression line as a ratio of
male to female students, you’ll notice that we don’t know a whole lot about what
happens in states where there are between 250,000 and 1,750,000 female students
in any given year.</p>
<p>To learn more about what’s happening in our dataset, we can filter it for only
states that have more than 500,000 female students in any year:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="c10.html#cb218-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb218-2"><a href="c10.html#cb218-2" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">==</span> <span class="st">&quot;Total, Age 6-21&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb218-3"><a href="c10.html#cb218-3" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> gender, </span>
<span id="cb218-4"><a href="c10.html#cb218-4" tabindex="-1"></a>              <span class="at">values_from =</span> total) <span class="sc">%&gt;%</span> </span>
<span id="cb218-5"><a href="c10.html#cb218-5" tabindex="-1"></a>  <span class="fu">filter</span>(f <span class="sc">&gt;</span> <span class="dv">500000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb218-6"><a href="c10.html#cb218-6" tabindex="-1"></a>  <span class="fu">select</span>(year, state, age, f, m)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##   year       state                                           age        f      m
##   &lt;date&gt;     &lt;chr&gt;                                           &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 2012-01-01 us, outlying areas, and freely associated stat… Tota… 1.93e6 3.89e6
## 2 2013-01-01 us, outlying areas, and freely associated stat… Tota… 1.94e6 3.88e6
## 3 2014-01-01 us, outlying areas, and freely associated stat… Tota… 1.97e6 3.92e6
## 4 2015-01-01 us, outlying areas, and freely associated stat… Tota… 2.01e6 3.98e6
## 5 2016-01-01 us, outlying areas, and freely associated stat… Tota… 2.01e6 3.97e6
## 6 2017-01-01 us, outlying areas, and freely associated stat… Tota… 2.05e6 4.02e6</code></pre>
<p>This is where we discover that each of the data points in the upper right hand
corner of the plot are from the state value “us, us, outlying areas, and freely
associated states”. If we remove these outliers, we have a distribution of
female students that looks more complete.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="c10.html#cb220-1" tabindex="-1"></a>child_counts <span class="sc">%&gt;%</span></span>
<span id="cb220-2"><a href="c10.html#cb220-2" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">==</span> <span class="st">&quot;Total, Age 6-21&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb220-3"><a href="c10.html#cb220-3" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> gender, </span>
<span id="cb220-4"><a href="c10.html#cb220-4" tabindex="-1"></a>              <span class="at">values_from =</span> total) <span class="sc">%&gt;%</span></span>
<span id="cb220-5"><a href="c10.html#cb220-5" tabindex="-1"></a>  <span class="co"># Filter for female student counts less than 500,000</span></span>
<span id="cb220-6"><a href="c10.html#cb220-6" tabindex="-1"></a>  <span class="fu">filter</span>(f <span class="sc">&lt;=</span> <span class="dv">500000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb220-7"><a href="c10.html#cb220-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> f, <span class="at">y =</span> m)) <span class="sc">+</span></span>
<span id="cb220-8"><a href="c10.html#cb220-8" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">color =</span> <span class="fu">dataedu_colors</span>(<span class="st">&quot;green&quot;</span>)) <span class="sc">+</span></span>
<span id="cb220-9"><a href="c10.html#cb220-9" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb220-10"><a href="c10.html#cb220-10" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Comparison of Female Students to Male Students with Disabilities&quot;</span>,</span>
<span id="cb220-11"><a href="c10.html#cb220-11" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Counts of students in each state, ages 6-21.</span><span class="sc">\n</span><span class="st">Does not include outlying areas and freely associated states&quot;</span>,</span>
<span id="cb220-12"><a href="c10.html#cb220-12" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Female students&quot;</span>,</span>
<span id="cb220-13"><a href="c10.html#cb220-13" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Male students&quot;</span>,</span>
<span id="cb220-14"><a href="c10.html#cb220-14" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data: US Dept of Education&quot;</span></span>
<span id="cb220-15"><a href="c10.html#cb220-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb220-16"><a href="c10.html#cb220-16" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-7"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-7-1.png" alt="Comparison of Female Students to Male Students with Disabilities" width="100%" />
<p class="caption">
Figure 10.7: Comparison of Female Students to Male Students with Disabilities
</p>
</div>
<p>This should allow us to fit a better model for the relationship between male and
female student counts, albeit only the ones where the count of female students
takes a value between 0 and 500,000.</p>
</div>
<div id="male-to-female-ratio-over-time" class="section level4 hasAnchor" number="10.8.2.2">
<h4><span class="header-section-number">10.8.2.2</span> Male to female ratio over time<a href="c10.html#male-to-female-ratio-over-time" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Earlier, we asked the question, “Do we have enough data points for the count of
female students to learn about the ratio of female to male students?” Similarly,
we should ask ourselves, “Do we have enough data points across our year
variable to learn about how this ratio has changed over time?”</p>
<p>To answer that, let’s start by making a new dataset that includes any
rows where the <code>f</code> variable has a value that is less than or equal to 500,000.
We’ll convert the <code>year</code> variable to a factor data type—we’ll see how this
helps in a bit. We’ll also add a column called <code>ratio</code> that contains the male to
female count ratio.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="c10.html#cb221-1" tabindex="-1"></a>model_data <span class="ot">&lt;-</span> child_counts <span class="sc">%&gt;%</span></span>
<span id="cb221-2"><a href="c10.html#cb221-2" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">==</span> <span class="st">&quot;Total, Age 6-21&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb221-3"><a href="c10.html#cb221-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.factor</span>(<span class="fu">year</span>(year))) <span class="sc">%&gt;%</span></span>
<span id="cb221-4"><a href="c10.html#cb221-4" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> gender, </span>
<span id="cb221-5"><a href="c10.html#cb221-5" tabindex="-1"></a>              <span class="at">values_from =</span> total) <span class="sc">%&gt;%</span> </span>
<span id="cb221-6"><a href="c10.html#cb221-6" tabindex="-1"></a>  <span class="co"># Exclude outliers</span></span>
<span id="cb221-7"><a href="c10.html#cb221-7" tabindex="-1"></a>  <span class="fu">filter</span>(f <span class="sc">&lt;=</span> <span class="dv">500000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb221-8"><a href="c10.html#cb221-8" tabindex="-1"></a>  <span class="co"># Compute male student to female student ratio</span></span>
<span id="cb221-9"><a href="c10.html#cb221-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> m <span class="sc">/</span> f) <span class="sc">%&gt;%</span></span>
<span id="cb221-10"><a href="c10.html#cb221-10" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(age, disability))</span></code></pre></div>
<p>We can see how much data we have per year by using <code>count()</code>:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="c10.html#cb222-1" tabindex="-1"></a>model_data <span class="sc">%&gt;%</span></span>
<span id="cb222-2"><a href="c10.html#cb222-2" tabindex="-1"></a>  <span class="fu">count</span>(year)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   year      n
##   &lt;fct&gt; &lt;int&gt;
## 1 2012     59
## 2 2013     56
## 3 2014     56
## 4 2015     58
## 5 2016     57
## 6 2017     55</code></pre>
<p>Let’s visualize the ratio values across all years as an additional check. Note
the use of <code>geom_jitter()</code> to spread the points horizontally so we can estimate
the quantities better:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="c10.html#cb224-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> model_data, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> ratio)) <span class="sc">+</span></span>
<span id="cb224-2"><a href="c10.html#cb224-2" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">color =</span> <span class="fu">dataedu_colors</span>(<span class="st">&quot;green&quot;</span>)) <span class="sc">+</span></span>
<span id="cb224-3"><a href="c10.html#cb224-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Male to Female Ratio Across Years (Jittered)&quot;</span>) <span class="sc">+</span></span>
<span id="cb224-4"><a href="c10.html#cb224-4" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-8"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-8-1.png" alt="Male to Female Ratio Across Years (Jittered)" width="100%" />
<p class="caption">
Figure 10.8: Male to Female Ratio Across Years (Jittered)
</p>
</div>
<p>Each year seems to have data points that can be considered when we fit the
model. This means that there are enough data points to help us learn how the
year variable predicts the ratio variable.</p>
<p>We fit the linear regression model by passing the argument <code>ratio ~ year</code> to the
function <code>lm()</code>. In R, the <code>~</code> usually indicates a formula. In this case, the
formula is the variable <code>year</code> as a predictor of the variable <code>ratio</code>. The final
argument we pass to <code>lm</code> is <code>data = model_data</code>, which tells R to look for the
variables <code>ratio</code> and <code>year</code> in the dataset <code>model_data</code>. The results of the
model are called a “model object”. We’ll store the model object in <code>ratio_year</code>:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="c10.html#cb225-1" tabindex="-1"></a>ratio_year <span class="ot">&lt;-</span> </span>
<span id="cb225-2"><a href="c10.html#cb225-2" tabindex="-1"></a>  <span class="fu">lm</span>(ratio <span class="sc">~</span> year, <span class="at">data =</span> model_data)</span></code></pre></div>
<p>Each model object is filled with all sorts of model information. We can look at
this information using the function <code>summary()</code>:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="c10.html#cb226-1" tabindex="-1"></a><span class="fu">summary</span>(ratio_year)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = ratio ~ year, data = model_data)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -0.4402 -0.1014 -0.0281  0.0534  0.7574 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   2.0336     0.0220   92.42   &lt;2e-16 ***
## year2013     -0.0120     0.0315   -0.38     0.70    
## year2014     -0.0237     0.0315   -0.75     0.45    
## year2015     -0.0310     0.0313   -0.99     0.32    
## year2016     -0.0396     0.0314   -1.26     0.21    
## year2017     -0.0576     0.0317   -1.82     0.07 .  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.169 on 335 degrees of freedom
## Multiple R-squared:  0.0122, Adjusted R-squared:  -0.00259 
## F-statistic: 0.824 on 5 and 335 DF,  p-value: 0.533</code></pre>
<p>Here’s how we can interpret the <code>Estimate</code> column: The estimate of the
<code>(Intercept)</code> is 2.03, which is the estimated value of the <code>ratio</code> variable
when the <code>year</code> variable is “2012”. Note that the value <code>year2012</code> isn’t present
in the in the list of rownames. That’s because the <code>(Intercept)</code> row represents
<code>year2012</code>. In linear regression models that use factor variables as predictors,
the first level of the factor is the intercept. Sometimes this level is called a
“dummy variable”. The remaining rows of the model output show how much each year
differs from the intercept, 2012. For example, <code>year2013</code> has an estimate of
–0.012, which suggests that on average the value of <code>ratio</code> is 0.012 less
than 2.03. On average, the ratio of <code>year2014</code> is 0.02 less than 2.03.
The <code>t value</code> column tells us the size of difference between the estimated value
of the ratio for each year and the estimated value of the ratio of the
intercept. Generally speaking, the larger the t value, the larger the chance
that any difference between the coefficient of a factor level and the intercept
are significant.</p>
<p>Though the relationship between <code>year</code> as a predictor of <code>ratio</code> is not linear
(recall our previous plot), the linear regression model still gives us useful
information. We fit a linear regression model to a factor variable, like <code>year</code>,
as a predictor of a continuous variable, like<code>ratio</code>. In doing so, we got the
average <code>ratio</code> at every value of <code>year</code>. We can verify this by taking the mean
<code>ratio</code> of ever <code>year</code>:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="c10.html#cb228-1" tabindex="-1"></a>model_data <span class="sc">%&gt;%</span></span>
<span id="cb228-2"><a href="c10.html#cb228-2" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb228-3"><a href="c10.html#cb228-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_ratio =</span> <span class="fu">mean</span>(ratio))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   year  mean_ratio
##   &lt;fct&gt;      &lt;dbl&gt;
## 1 2012        2.03
## 2 2013        2.02
## 3 2014        2.01
## 4 2015        2.00
## 5 2016        1.99
## 6 2017        1.98</code></pre>
<p>This verifies that our intercept, the value of <code>ratio</code> during the year 2012,
is 2.03 and the value of <code>ratio</code> for 2013 is 0.012 less than that of 2012
on average. Fitting the model gives us more details about these mean ratio
scores—namely the coefficient, t value, and p value. These values help us
apply judgement when deciding if differences in <code>ratio</code> values suggest an
underlying difference between years or simply differences you can expect from
randomness. In this case, the absence of “*” in all rows except the Intercept
row suggest that any differences occurring between years are within the range
you’d expect by chance.</p>
<p>If we use <code>summary()</code> on our <code>model_data</code> dataset, we can verify the intercept
again:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="c10.html#cb230-1" tabindex="-1"></a>model_data <span class="sc">%&gt;%</span></span>
<span id="cb230-2"><a href="c10.html#cb230-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">&quot;2012&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb230-3"><a href="c10.html#cb230-3" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code></pre></div>
<pre><code>##    year       state                 f                m              ratio     
##  2012:59   Length:59          Min.   :   208   Min.   :   443   Min.   :1.71  
##  2013: 0   Class :character   1st Qu.:  5606   1st Qu.: 11467   1st Qu.:1.93  
##  2014: 0   Mode  :character   Median : 22350   Median : 44110   Median :1.99  
##  2015: 0                      Mean   : 32773   Mean   : 65934   Mean   :2.03  
##  2016: 0                      3rd Qu.: 38552   3rd Qu.: 77950   3rd Qu.:2.09  
##  2017: 0                      Max.   :198595   Max.   :414466   Max.   :2.69</code></pre>
<p>The mean value of the <code>ratio</code> column when the <code>year</code> column is 2012 is 2.03,
just like in the model output’s intercept row.</p>
<p>Lastly, we may want to communicate to a larger audience that there were roughly
twice the number of male students in this dataset than there were female students, and this
did not change significantly between the years 2012 and 2017. When you are not
communicating to an audience of other data scientists, it’s helpful to
illustrate your point without the technical details of the model output. Think
of yourself as an interpreter: since you can speak the language of model outputs
and the language of data visualization, your challenge is to take what you
learned from the model output and tell that story in a way that is meaningful to
your non-data scientist audience.</p>
<p>There are many ways to do this, but we’ll choose boxplots to show our audience
that there was roughly twice as many male students in special education than
female students between 2012 and 2017. For our purposes, let’s verify this by
looking at the median male to female ratio for each year:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="c10.html#cb232-1" tabindex="-1"></a>model_data <span class="sc">%&gt;%</span></span>
<span id="cb232-2"><a href="c10.html#cb232-2" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb232-3"><a href="c10.html#cb232-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">median_ratio =</span> <span class="fu">median</span>(ratio))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   year  median_ratio
##   &lt;fct&gt;        &lt;dbl&gt;
## 1 2012          1.99
## 2 2013          1.99
## 3 2014          1.98
## 4 2015          1.98
## 5 2016          1.97
## 6 2017          1.96</code></pre>
<p>Now let’s visualize this using our boxplots:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="c10.html#cb234-1" tabindex="-1"></a>model_data <span class="sc">%&gt;%</span></span>
<span id="cb234-2"><a href="c10.html#cb234-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(f, m), </span>
<span id="cb234-3"><a href="c10.html#cb234-3" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;gender&quot;</span>, </span>
<span id="cb234-4"><a href="c10.html#cb234-4" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;students&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb234-5"><a href="c10.html#cb234-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> students, <span class="at">color =</span> gender)) <span class="sc">+</span></span>
<span id="cb234-6"><a href="c10.html#cb234-6" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb234-7"><a href="c10.html#cb234-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb234-8"><a href="c10.html#cb234-8" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb234-9"><a href="c10.html#cb234-9" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Median Male and Female Student Counts in Special Education&quot;</span>,</span>
<span id="cb234-10"><a href="c10.html#cb234-10" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Ages 6-21. Does not include outlying areas and freely associated states&quot;</span>,</span>
<span id="cb234-11"><a href="c10.html#cb234-11" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb234-12"><a href="c10.html#cb234-12" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb234-13"><a href="c10.html#cb234-13" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data: US Dept of Education&quot;</span></span>
<span id="cb234-14"><a href="c10.html#cb234-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb234-15"><a href="c10.html#cb234-15" tabindex="-1"></a>  <span class="fu">scale_color_dataedu</span>() <span class="sc">+</span></span>
<span id="cb234-16"><a href="c10.html#cb234-16" tabindex="-1"></a>  <span class="fu">theme_dataedu</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig10-9"></span>
<img src="10-wt-longitudinal-analysis_files/figure-html/fig10-9-1.png" alt="Median Male and Female Student Counts in Special Education" width="100%" />
<p class="caption">
Figure 10.9: Median Male and Female Student Counts in Special Education
</p>
</div>
<p>Once we learned from our model that male to female ratios did not change in any
meaningful way from 2012 to 2017 and that the median ratio across states was
about two male students to every female student, we can present these two ideas
using this plot. When discussing the plot, it helps to have your model output in
your notes so you can reference specific coefficient estimates when needed.</p>
</div>
</div>
</div>
<div id="results-3" class="section level2 hasAnchor" number="10.9">
<h2><span class="header-section-number">10.9</span> Results<a href="c10.html#results-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We learned that each state has a different count of students with
disabilities—so different that we need to use statistics like ratios or
visualizations to compare across states. Even when we narrow our focus to the
five states with the highest counts of students with disabilities, we see that
there are differences in these counts.</p>
<p>When we look at these five states over time, we see that, despite the differences
in total count each year, all five increased their student counts.
We also learned that though the male to female ratios for students with
disabilities appears to have gone down slightly over time, our model suggests
that these decreases do not represent a big difference.</p>
<p>The comparison of student counts across each state is tricky because there is a
lot of variation in total enrollment across all 50 states. While we explored
student counts across each state and verified that there is variation in the
counts, a good next step would be to combine these data with total enrollment
data. This would allow us to compare counts of students with disabilities as a
percentage of total enrollment. Comparing proportions like this is a common way
to compare subgroups of a population across states when each state’s population
varies in size.</p>
</div>
<div id="conclusion-6" class="section level2 hasAnchor" number="10.10">
<h2><span class="header-section-number">10.10</span> Conclusion<a href="c10.html#conclusion-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Education data science is about using data science tools to learn about and
improve the lives of our students. So why choose a publicly available aggregate
dataset instead of a student-level dataset? We chose to use an aggregate dataset
because it reflects an analysis that a data scientist in education would
typically do.</p>
<p>Using student-level data requires that the data scientist be either an employee
of the school agency or someone who works under a memorandum of understanding (MOU)
that allows her to access this data. Without either of these conditions, the
education data scientist learns about the student experience by working on
publicly available datasets, almost all of which are aggregated student-level
datasets.</p>
<div id="student-level-data-for-analysis-of-local-populations-aggregate-data-for-base-rate-and-context" class="section level3 hasAnchor" number="10.10.1">
<h3><span class="header-section-number">10.10.1</span> Student-level data for analysis of local populations: aggregate data for base rate and context<a href="c10.html#student-level-data-for-analysis-of-local-populations-aggregate-data-for-base-rate-and-context" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Longitudinal analysis is typically done with student-level data because
educators are interested in what happens to students over time. So if you cannot
access student-level data, how do we use aggregate data to offer value to the
analytic conversation?</p>
<p>Aggregate data is valuable because it allows us to learn from populations that
are larger or different from the local student-level population. Think of it as
an opportunity to learn from totaled up student data from other states or the
whole country.</p>
<p>In the book <em>Thinking Fast and Slow</em>, <span class="citation">Kahneman (<a href="references.html#ref-kahneman2011">2011</a>)</span> discusses the importance of
learning from larger populations, a context he refers to as the “base rate”. The
base rate fallacy is the tendency to only focus on conclusions we can draw from
immediately available information. It’s the difference between computing how
often a student at one school is identified for special education services
(student-level data) and how often students are identified for special
educations services nationally (base rate data). We can use aggregate data to
combat the base rate fallacy by putting what we learn from local student data in
the context of surrounding populations.</p>
<p>For example, consider an analysis of student-level data in a school district
over time. Student-level data allows us to ask questions about our local
population. One such question is, “Are the rates of special education
identification for male students different from other gender identities <em>in our district</em>?” This style of question looks <em>inward</em> at your own educational system.</p>
<p>Taking a cue from Kahneman, we should also ask what this pattern looks
like in other states or in the country. Aggregate data allows us to ask
questions about a larger population. One such question is, “Are the rates of
special education identification for male students different from other gender
identities <em>in the United States</em>?” This style of question looks for answers
<em>outside</em> your own educational system. The combination of the two lines of
inquiry is a powerful way to generate new knowledge about the student experience.</p>
<p>So education data scientists should not despair in situations where they cannot
access student-level data. Aggregate data is a powerful way to learn from state-level or national-level data when a data sharing agreement for student-level
data is not possible. In situations where student-level data <em>is</em> available,
including aggregate data is an excellent way to combat the base rate fallacy.</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>The documentation for the
dataset is available here:
<a href="https://www2.ed.gov/programs/osepidea/618-data/collection-documentation/data-documentation-files/part-b/child-count-and-educational-environment/idea-partb-childcountandedenvironment-2017-18.pdf" class="uri">https://www2.ed.gov/programs/osepidea/618-data/collection-documentation/data-documentation-files/part-b/child-count-and-educational-environment/idea-partb-childcountandedenvironment-2017-18.pdf</a><a href="c10.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="c09.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="c11.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/data-edu/data-science-in-education/edit/master/10-wt-longitudinal-analysis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"fig_height": 5.3,
"fig_width": 8.5
});
});
</script>

</body>

</html>
